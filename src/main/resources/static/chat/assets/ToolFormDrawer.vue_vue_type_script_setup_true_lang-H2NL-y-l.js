import{aJ as Q,bp as oe,aK as J,aP as u,bq as G,aQ as d,aL as h,aM as y,aR as e,aT as i,a_ as H,b1 as R,aS as o,eE as be,aV as g,aW as s,cI as Z,bk as re,bf as S,bv as X,be as $e,aU as E,aZ as he,b0 as ke,b8 as Te,b9 as Ie,bn as Ue,ew as Ae,ex as Me,e5 as de,b2 as me,ec as ge,aY as Ee,e9 as ze,aO as Ne,bm as Be}from"./chat-CJ-GWxNS.js";import{_ as Ye}from"./FieldFormDialog.vue_vue_type_script_setup_true_lang-BpaTdJ4X.js";const je={key:0},Cl=Q({__name:"InitParamDrawer",emits:["refresh"],setup(K,{expose:A,emit:U}){const I=U,L=oe(),P=J(()=>L.path.includes("shared")?"systemShare":L.path.includes("resource-management")?"systemManage":"workspace"),$=u(),m=u(!1),w=u(!1),f=u({initParams:{}});G(w,c=>{c||(f.value={initParams:{},isActive:!1})});const F=async()=>{$.value.validate().then(()=>{var c;Z({type:"tool",systemType:P.value}).putTool((c=f.value)==null?void 0:c.id,f.value,m).then(b=>{re(S("common.editSuccess")),I("refresh"),w.value=!1})})};return A({open:(c,b)=>{c&&(f.value=X.cloneDeep(c),f.value.isActive=b);const v=f.value.initFieldList.map(n=>n.show_default_value===!1?{[n.field]:void 0}:{[n.field]:n.default_value}).reduce((n,l)=>({...n,...l}),{});f.value.initParams={...v,...f.value.initParams},w.value=!0}}),(c,b)=>{const v=d("el-button"),n=d("el-drawer");return y(),h(n,{modelValue:w.value,"onUpdate:modelValue":b[2]||(b[2]=l=>w.value=l),size:"60%","append-to-body":!0},{header:e(()=>[i("h4",null,s(c.$t("common.param.initParam"))+"-",1)]),footer:e(()=>[i("div",null,[o(v,{type:"primary",onClick:b[1]||(b[1]=l=>F()),loading:m.value},{default:e(()=>[g(s(c.$t("common.save")),1)]),_:1},8,["loading"])])]),default:e(()=>{var l;return[i("div",null,[((l=f.value.initFieldList)==null?void 0:l.length)>0?(y(),H("div",je,[o(be,{modelValue:f.value.initParams,"onUpdate:modelValue":b[0]||(b[0]=_=>f.value.initParams=_),model:f.value.initParams,"label-position":"top","require-asterisk-position":"right",render_data:f.value.initFieldList,ref_key:"dynamicsFormRef",ref:$},null,8,["modelValue","model","render_data"])])):R("",!0)])]}),_:1},8,["modelValue"])}}}),He={class:"dialog-footer"},Rl=Q({__name:"AddInternalToolDialog",emits:["refresh"],setup(K,{expose:A,emit:U}){const I=U,L=u(),P=u(!1),$=u(!1),m=u({name:""}),w=$e({name:[{required:!0,message:S("views.tool.form.toolName.placeholder"),trigger:"blur"}]}),f=u(!1);G(f,c=>{c||(m.value={name:""})});const F=(c,b)=>{c&&(m.value=X.cloneDeep(c)),$.value=b||!1,f.value=!0},k=async c=>{c&&await c.validate(b=>{b&&(I("refresh",m.value,$.value),f.value=!1)})};return A({open:F}),(c,b)=>{const v=d("el-input"),n=d("el-form-item"),l=d("el-form"),_=d("el-button"),V=d("el-dialog");return y(),h(V,{title:c.$t("views.tool.form.toolName.name"),modelValue:f.value,"onUpdate:modelValue":b[3]||(b[3]=D=>f.value=D),"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":!0,"append-to-body":"",width:"450"},{footer:e(()=>[i("span",He,[o(_,{onClick:b[1]||(b[1]=E(D=>f.value=!1,["prevent"]))},{default:e(()=>[g(s(c.$t("common.cancel")),1)]),_:1}),o(_,{type:"primary",onClick:b[2]||(b[2]=D=>k(L.value)),loading:P.value},{default:e(()=>[g(s($.value?c.$t("common.save"):c.$t("common.add")),1)]),_:1},8,["loading"])])]),default:e(()=>[o(l,{"label-position":"top",ref_key:"fieldFormRef",ref:L,rules:w,model:m.value,"require-asterisk-position":"right"},{default:e(()=>[o(n,{prop:"name",label:c.$t("common.name")},{default:e(()=>[o(v,{modelValue:m.value.name,"onUpdate:modelValue":b[0]||(b[0]=D=>m.value.name=D),maxlength:"64","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["rules","model"])]),_:1},8,["title","modelValue"])}}}),Oe={class:"flex align-center",style:{"margin-left":"-8px"}},Je={key:0,class:"mb-16"},Ke={class:"title-decoration-1 mb-16"},Qe={key:1,class:"mb-16"},We={class:"title-decoration-1 mb-16"},Ze={class:"flex"},Ge={key:0,class:"color-danger"},Xe={key:2,class:"mt-8"},xe={class:"title-decoration-1 mb-16 mt-16"},el={class:"mb-16"},ll={class:"lighter mb-8"},tl=Q({__name:"ToolDebugDrawer",setup(K,{expose:A}){const U=oe(),I=J(()=>U.path.includes("shared")?"systemShare":U.path.includes("resource-management")?"systemManage":"workspace"),L=u(),P=u(),$=u(!1),m=u(!1),w=u(!1),f=u(!1),F=u(""),k=u({debugFieldList:[],code:"",inputFieldList:[],initFieldList:[],initParams:{}});G(m,v=>{v||(w.value=!1,f.value=!1,F.value="",k.value={debugFieldList:[],code:"",inputFieldList:[],initFieldList:[],initParams:{}})});const c=async v=>{var l;const n=v?v.validate():Promise.resolve();Promise.all([(l=P.value)==null?void 0:l.validate(),n]).then(()=>{Z({type:"tool",systemType:I.value}).postToolDebug(k.value,$).then(_=>{_.code===500?(w.value=!0,f.value=!1,F.value=_.message):(w.value=!0,f.value=!0,F.value=_.data)})})};return A({open:v=>{v.inputFieldList.length>0&&v.inputFieldList.forEach(n=>{k.value.debugFieldList.push({value:"",...n})}),k.value.code=v.code,k.value.inputFieldList=v.inputFieldList,k.value.initFieldList=v.initFieldList,m.value=!0}}),(v,n)=>{const l=d("Back"),_=d("el-icon"),V=d("el-button"),D=d("el-card"),C=d("el-tag"),O=d("el-input"),p=d("el-form-item"),j=d("el-form"),x=d("el-alert"),ae=d("el-drawer"),ne=he("loading");return y(),h(ae,{modelValue:m.value,"onUpdate:modelValue":n[4]||(n[4]=T=>m.value=T),size:"60%","append-to-body":!0,modal:!1},{header:e(()=>[i("div",Oe,[o(V,{class:"cursor mr-4",link:"",onClick:n[0]||(n[0]=E(T=>m.value=!1,["prevent"]))},{default:e(()=>[o(_,{size:20},{default:e(()=>[o(l)]),_:1})]),_:1}),i("h4",null,s(v.$t("common.debug")),1)])]),default:e(()=>[i("div",null,[k.value.initFieldList.length>0?(y(),H("div",Je,[i("h4",Ke,s(v.$t("common.param.initParam")),1),o(D,{shadow:"never",class:"card-never",style:{"--el-card-padding":"12px"}},{default:e(()=>[o(be,{modelValue:k.value.initParams,"onUpdate:modelValue":n[1]||(n[1]=T=>k.value.initParams=T),model:k.value.initParams,"label-position":"top","require-asterisk-position":"right",render_data:k.value.initFieldList,ref_key:"dynamicsFormRef",ref:P},null,8,["modelValue","model","render_data"])]),_:1})])):R("",!0),k.value.debugFieldList.length>0?(y(),H("div",Qe,[i("h4",We,s(v.$t("common.param.inputParam")),1),o(D,{shadow:"never",class:"card-never",style:{"--el-card-padding":"12px"}},{default:e(()=>[ke((y(),h(j,{ref_key:"FormRef",ref:L,model:k.value,"label-position":"top","require-asterisk-position":"right","hide-required-asterisk":"",onSubmit:n[2]||(n[2]=E(()=>{},["prevent"]))},{default:e(()=>[(y(!0),H(Te,null,Ie(k.value.debugFieldList,(T,ee)=>(y(),h(p,{key:ee,label:T.name,prop:"debugFieldList."+ee+".value",rules:{required:T.isRequired,message:v.$t("views.tool.form.param.inputPlaceholder"),trigger:"blur"}},{label:e(()=>[i("div",Ze,[i("span",null,[g(s(T.name)+" ",1),T.isRequired?(y(),H("span",Ge,"*")):R("",!0)]),o(C,{type:"info",class:"info-tag ml-4"},{default:e(()=>[g(s(T.type),1)]),_:2},1024)])]),default:e(()=>[o(O,{modelValue:T.value,"onUpdate:modelValue":le=>T.value=le,placeholder:v.$t("views.tool.form.param.inputPlaceholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["label","prop","rules"]))),128))]),_:1},8,["model"])),[[ne,$.value]])]),_:1})])):R("",!0),o(V,{type:"primary",onClick:n[3]||(n[3]=T=>c(L.value)),loading:$.value},{default:e(()=>[g(s(v.$t("views.tool.form.debug.run")),1)]),_:1},8,["loading"]),w.value?(y(),H("div",Xe,[i("h4",xe,s(v.$t("views.tool.form.debug.runResult")),1),i("div",el,[f.value?(y(),h(x,{key:0,title:v.$t("views.tool.form.debug.runSuccess"),type:"success","show-icon":"",closable:!1},null,8,["title"])):(y(),h(x,{key:1,title:v.$t("views.tool.form.debug.runFailed"),type:"error","show-icon":"",closable:!1},null,8,["title"]))]),i("p",ll,s(v.$t("views.tool.form.debug.output")),1),o(D,{class:Ue([f.value?"":"color-danger","pre-wrap"]),shadow:"never"},{default:e(()=>[g(s(String(F.value)=="0"?0:F.value||"-"),1)]),_:1},8,["class"])])):R("",!0)])]),_:1},8,["modelValue"])}}}),ol={class:"dialog-footer"},al=Q({__name:"UserFieldFormDialog",emits:["refresh"],setup(K,{expose:A,emit:U}){const I=U,L=u(),P=u(!1),$=u(!1),m=u(),w=(l,_)=>l.every(V=>Me.get(_,V,void 0)!==void 0),f=J(()=>{if(m.value){const l=m.value;switch(l.type){case"input":return w(["field","input_type","label","required","attrs"],m.value)?m.value:{attrs:l.attrs||{maxlength:200,minlength:0},field:l.field||l.variable,input_type:"TextInput",label:l.label||l.name,default_value:l.default_value,required:l.required!=null?l.required:l.isRequired};case"select":return w(["field","input_type","label","required","option_list"],m.value)?m.value:{attrs:l.attrs||{},field:l.field||l.variable,input_type:"SingleSelect",label:l.label||l.name,default_value:l.default_value,required:l.required!=null?l.required:l.isRequired,option_list:l.option_list?l.option_list:l.optionList.map(_=>({key:_,value:_}))};case"date":return w(["field","input_type","label","required","attrs.format","attrs.value-format","attrs.type"],m.value)?m.value:{field:l.field||l.variable,input_type:"DatePicker",label:l.label||l.name,default_value:l.default_value,required:l.required!=null?l.required:l.isRequired,attrs:{format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",type:"datetime"}};default:return m.value}}else return{input_type:"TextInput",required:!1,attrs:{maxlength:200,minlength:0},show_default_value:!0}}),F=u(null),k=u([{label:S("dynamicsForm.input_type_list.TextInput"),value:"TextInputConstructor"},{label:S("dynamicsForm.input_type_list.PasswordInput"),value:"PasswordInputConstructor"},{label:S("dynamicsForm.input_type_list.SingleSelect"),value:"SingleSelectConstructor"},{label:S("dynamicsForm.input_type_list.MultiSelect"),value:"MultiSelectConstructor"},{label:S("dynamicsForm.input_type_list.RadioCard"),value:"RadioCardConstructor"},{label:S("dynamicsForm.input_type_list.DatePicker"),value:"DatePickerConstructor"},{label:S("dynamicsForm.input_type_list.SwitchInput"),value:"SwitchInputConstructor"}]),c=u(!1),b=(l,_)=>{c.value=!0,l?($.value=!0,m.value=X.cloneDeep(l),F.value=_):m.value=null},v=()=>{c.value=!1,$.value=!1,F.value=null,m.value=null},n=async()=>{const l=L.value;l&&await l.validate().then(()=>{I("refresh",l==null?void 0:l.getData(),F.value),$.value=!1,m.value=null,F.value=null})};return A({open:b,close:v}),(l,_)=>{const V=d("el-button"),D=d("el-dialog");return y(),h(D,{title:$.value?l.$t("common.param.editParam"):l.$t("common.param.addParam"),modelValue:c.value,"onUpdate:modelValue":_[2]||(_[2]=C=>c.value=C),"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":!0,"before-close":v,"append-to-body":""},{footer:e(()=>[i("span",ol,[o(V,{onClick:E(v,["prevent"])},{default:e(()=>[g(s(l.$t("common.cancel")),1)]),_:1}),o(V,{type:"primary",onClick:_[1]||(_[1]=C=>n()),loading:P.value},{default:e(()=>[g(s($.value?l.$t("common.save"):l.$t("common.add")),1)]),_:1},8,["loading"])])]),default:e(()=>[o(Ae,{modelValue:f.value,"onUpdate:modelValue":_[0]||(_[0]=C=>f.value=C),"label-position":"top","require-asterisk-position":"right",input_type_list:k.value,ref_key:"DynamicsFormConstructorRef",ref:L},null,8,["modelValue","input_type_list"])]),_:1},8,["title","modelValue"])}}}),nl={class:"flex mt-8"},sl=["src"],il={class:"el-upload__tip info mt-8"},ul={class:"dialog-footer"},rl=Q({__name:"EditAvatarDialog",emits:["refresh"],setup(K,{expose:A,emit:U}){const I=U,L=oe(),P=u(null),$=u(null),m=u(!1),w=u(!1),f=u(null),F=u("default"),k=J(()=>L.path.includes("shared")?"systemShare":L.path.includes("resource-management")?"systemManage":"workspace");J(()=>L.path.includes("shared")),G(m,n=>{n||(P.value=null,$.value=null)});const c=n=>{F.value=me(n.icon)?"custom":"default",$.value=me(n.icon)?n.icon:null,f.value=X.cloneDeep(n),m.value=!0},b=n=>{if((n==null?void 0:n.size)/1024/1024<10)P.value=n,$.value=URL.createObjectURL(n.raw);else return ge(S("common.EditAvatarDialog.fileSizeExceeded")),!1};function v(){if(F.value==="default")I("refresh",""),m.value=!1;else if(F.value==="custom"&&P.value){const n=new FormData;n.append("file",P.value.raw),Z({type:"tool",systemType:k.value}).putToolIcon(f.value.id,n,w).then(l=>{I("refresh",l.data),m.value=!1})}else ge(S("common.EditAvatarDialog.uploadImagePrompt"))}return A({open:c}),(n,l)=>{const _=d("el-avatar"),V=d("el-radio"),D=d("el-button"),C=d("el-upload"),O=d("el-radio-group"),p=d("el-dialog");return y(),h(p,{title:`Logo ${n.$t("common.setting")}`,modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=j=>m.value=j),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"550"},{footer:e(()=>[i("span",ul,[o(D,{onClick:l[1]||(l[1]=E(j=>m.value=!1,["prevent"]))},{default:e(()=>[g(s(n.$t("common.cancel")),1)]),_:1}),o(D,{type:"primary",onClick:v,loading:w.value},{default:e(()=>[g(s(n.$t("common.save")),1)]),_:1},8,["loading"])])]),default:e(()=>[o(O,{modelValue:F.value,"onUpdate:modelValue":l[0]||(l[0]=j=>F.value=j),class:"radio-block mb-16"},{default:e(()=>[o(V,{value:"default"},{default:e(()=>[i("p",null,s(n.$t("common.EditAvatarDialog.default")),1),o(_,{class:"avatar-green",shape:"square",size:32},{default:e(()=>l[3]||(l[3]=[i("img",{src:de,style:{width:"58%"},alt:""},null,-1)])),_:1,__:[3]})]),_:1}),o(V,{value:"custom"},{default:e(()=>[i("p",null,s(n.$t("common.EditAvatarDialog.customizeUpload")),1),i("div",nl,[$.value?(y(),h(_,{key:0,shape:"square",size:32,style:{background:"none"},class:"mr-16"},{default:e(()=>[i("img",{src:$.value,alt:""},null,8,sl)]),_:1})):R("",!0),o(C,{ref:"uploadRef",action:"#","auto-upload":!1,"show-file-list":!1,accept:"image/jpeg, image/png, image/gif","on-change":b},{default:e(()=>[o(D,{icon:"Upload",disabled:F.value!=="custom"},{default:e(()=>[g(s(n.$t("common.EditAvatarDialog.upload")),1)]),_:1},8,["disabled"])]),_:1},512)]),i("div",il,s(n.$t("common.EditAvatarDialog.sizeTip")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","modelValue"])}}}),dl={class:"title-decoration-1 mb-16"},ml={class:"flex w-full"},pl=["src"],cl={class:"flex-between"},fl={class:"title-decoration-1 mb-16"},vl=["title"],_l={class:"mr-4"},yl={class:"flex-between"},gl={class:"title-decoration-1 mb-16"},bl={class:"mr-4"},$l={class:"title-decoration-1 mb-16"},hl={key:0,class:"mb-8"},kl={class:"title-decoration-1 mb-16 mt-16"},Fl={class:"flex-between border-r-6 p-8-12 mb-8 layout-bg lighter"},Ll=Q({__name:"ToolFormDrawer",props:{title:String},emits:["refresh"],setup(K,{expose:A,emit:U}){const I=oe(),{folder:L,user:P}=Ee(),$=J(()=>I.path.includes("shared")?"systemShare":I.path.includes("resource-management")?"systemManage":"workspace"),m=J(()=>ze.tool[$.value]),w=U,f=u(),F=u(),k=u(),c=u(),b=u(),v=u(),n=u(),l=u(!1),_=u(!1),V=u(!1),D=u(!1),C=u(null),O=u(!1),p=u({name:"",desc:"",code:"",icon:"",inputFieldList:[],initFieldList:[],toolType:"CUSTOM"});G(V,t=>{var a;t||(l.value=!1,D.value=!1,C.value=null,p.value={name:"",desc:"",code:"",icon:"",inputFieldList:[],initFieldList:[]},(a=n.value)==null||a.clearValidate())});const j=$e({name:[{required:!0,message:S("views.tool.form.toolName.requiredMessage"),trigger:"blur"}]});function x(t){p.value.code=t}function ae(){l.value||!ne(p.value)?V.value=!1:Be(S("common.tip"),S("views.tool.tip.saveMessage"),{confirmButtonText:S("common.confirm"),type:"warning"}).then(()=>{V.value=!1}).catch(()=>{})}function ne(t){return Object.values(t).some(a=>Array.isArray(a)?a.length!==0:a!=null&&a!=="")}function T(){F.value.open(p.value)}function ee(t){var a;(a=p.value.inputFieldList)==null||a.splice(t,1)}function le(t,a){typeof a<"u"&&(C.value=a),f.value.open(t)}function Fe(t){var a,M;C.value!==null?(a=p.value.inputFieldList)==null||a.splice(C.value,1,t):(M=p.value.inputFieldList)==null||M.push(t),C.value=null}function pe(t,a){typeof a<"u"&&(C.value=a),k.value.open(t)}function we(t){var a,M;C.value!==null?(a=p.value.initFieldList)==null||a.splice(C.value,1,t):(M=p.value.initFieldList)==null||M.push(t),C.value=null,k.value.close()}function Ve(t){p.value.icon=t}function De(t){var a;(a=p.value.initFieldList)==null||a.splice(t,1)}function Ce(){c.value.open(p.value)}const Re=async t=>{t&&await t.validate(a=>{var M,W;if(a)if(l.value)Z({type:"tool",systemType:$.value}).putTool((M=p.value)==null?void 0:M.id,p.value,_).then(z=>(re(S("common.editSuccess")),w("refresh",z.data),P.profile())).then(()=>{V.value=!1});else{const z={folderId:(W=L.currentFolder)==null?void 0:W.id,...p.value};Z({type:"tool",systemType:$.value}).postTool(z,_).then(se=>(re(S("common.createSuccess")),w("refresh"),P.profile())).then(()=>{V.value=!1})}})};return A({open:t=>{t&&(l.value=!!(t!=null&&t.id),p.value=X.cloneDeep(t)),V.value=!0,setTimeout(()=>{D.value=!0},100)}}),(t,a)=>{const M=d("el-Avatar"),W=d("el-avatar"),z=d("AppIcon"),se=d("el-input"),ce=d("el-form-item"),Le=d("el-form"),fe=d("Plus"),ve=d("el-icon"),N=d("el-button"),B=d("el-table-column"),Y=d("el-tag"),_e=d("el-switch"),te=d("el-tooltip"),ye=d("el-table"),ie=d("el-text"),qe=d("CodemirrorEditor"),Se=d("el-drawer"),Pe=he("loading");return y(),h(Se,{modelValue:V.value,"onUpdate:modelValue":a[14]||(a[14]=r=>V.value=r),size:"60%","before-close":ae},{header:e(()=>[i("h4",null,s(K.title),1)]),footer:e(()=>{var r;return[i("div",null,[o(N,{loading:_.value,onClick:a[12]||(a[12]=q=>V.value=!1)},{default:e(()=>[g(s(t.$t("common.cancel")),1)]),_:1},8,["loading"]),m.value.debug()?(y(),h(N,{key:0,loading:_.value,onClick:T},{default:e(()=>[g(s(t.$t("common.debug")),1)]),_:1},8,["loading"])):R("",!0),(l.value?m.value.edit((r=p.value)==null?void 0:r.id):m.value.create())?(y(),h(N,{key:1,type:"primary",onClick:a[13]||(a[13]=q=>Re(n.value)),loading:_.value},{default:e(()=>[g(s(l.value?t.$t("common.save"):t.$t("common.create")),1)]),_:1},8,["loading"])):R("",!0)])]}),default:e(()=>[i("div",null,[i("h4",dl,s(t.$t("views.model.modelForm.title.baseInfo")),1),ke((y(),h(Le,{ref_key:"FormRef",ref:n,model:p.value,rules:j,"label-position":"top","require-asterisk-position":"right",onSubmit:a[6]||(a[6]=E(()=>{},["prevent"]))},{default:e(()=>[o(ce,{label:t.$t("views.tool.form.toolName.label"),prop:"name"},{default:e(()=>[i("div",ml,[p.value.id?(y(),H("div",{key:0,class:"edit-avatar mr-12",onMouseenter:a[0]||(a[0]=r=>O.value=!0),onMouseleave:a[1]||(a[1]=r=>O.value=!1)},[Ne(me)(p.value.icon)?(y(),h(M,{key:0,id:p.value.id,shape:"square",size:32,style:{background:"none"}},{default:e(()=>[i("img",{src:String(p.value.icon),alt:""},null,8,pl)]),_:1},8,["id"])):(y(),h(W,{key:1,class:"avatar-green",shape:"square",size:32},{default:e(()=>a[15]||(a[15]=[i("img",{src:de,style:{width:"58%"},alt:""},null,-1)])),_:1,__:[15]})),O.value?(y(),h(M,{key:2,id:p.value.id,shape:"square",class:"edit-mask",size:32,onClick:Ce},{default:e(()=>[o(z,{iconName:"app-edit"})]),_:1},8,["id"])):R("",!0)],32)):(y(),h(W,{key:1,class:"avatar-green mr-12",shape:"square",size:32},{default:e(()=>a[16]||(a[16]=[i("img",{src:de,style:{width:"58%"},alt:""},null,-1)])),_:1,__:[16]})),o(se,{modelValue:p.value.name,"onUpdate:modelValue":a[2]||(a[2]=r=>p.value.name=r),placeholder:t.$t("views.tool.form.toolName.placeholder"),maxlength:"64","show-word-limit":"",onBlur:a[3]||(a[3]=r=>{var q;return p.value.name=(q=p.value.name)==null?void 0:q.trim()})},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(ce,{label:t.$t("views.tool.form.toolDescription.label")},{default:e(()=>[o(se,{modelValue:p.value.desc,"onUpdate:modelValue":a[4]||(a[4]=r=>p.value.desc=r),type:"textarea",placeholder:t.$t("views.tool.form.toolDescription.placeholder"),maxlength:"128","show-word-limit":"",autosize:{minRows:3},onBlur:a[5]||(a[5]=r=>{var q;return p.value.desc=(q=p.value.desc)==null?void 0:q.trim()})},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[Pe,_.value]]),i("div",cl,[i("h4",fl,s(t.$t("common.param.initParam")),1),o(N,{link:"",type:"primary",onClick:a[7]||(a[7]=r=>pe())},{default:e(()=>[o(ve,{class:"mr-4"},{default:e(()=>[o(fe)]),_:1}),g(" "+s(t.$t("common.add")),1)]),_:1})]),o(ye,{ref_key:"initFieldTableRef",ref:b,data:p.value.initFieldList,class:"mb-16"},{default:e(()=>[o(B,{prop:"field",label:t.$t("dynamicsForm.paramForm.field.label")},{default:e(({row:r})=>[i("span",{title:r.field,class:"ellipsis-1"},s(r.field),9,vl)]),_:1},8,["label"]),o(B,{label:t.$t("dynamicsForm.paramForm.input_type.label")},{default:e(({row:r})=>[r.input_type==="TextInput"?(y(),h(Y,{key:0,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.TextInput")),1)]),_:1})):R("",!0),r.input_type==="PasswordInput"?(y(),h(Y,{key:1,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.PasswordInput")),1)]),_:1})):R("",!0),r.input_type==="Slider"?(y(),h(Y,{key:2,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.Slider")),1)]),_:1})):R("",!0),r.input_type==="SwitchInput"?(y(),h(Y,{key:3,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.SwitchInput")),1)]),_:1})):R("",!0),r.input_type==="SingleSelect"?(y(),h(Y,{key:4,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.SingleSelect")),1)]),_:1})):R("",!0),r.input_type==="MultiSelect"?(y(),h(Y,{key:5,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.MultiSelect")),1)]),_:1})):R("",!0),r.input_type==="RadioCard"?(y(),h(Y,{key:6,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.RadioCard")),1)]),_:1})):R("",!0),r.input_type==="DatePicker"?(y(),h(Y,{key:7,type:"info",class:"info-tag"},{default:e(()=>[g(s(t.$t("dynamicsForm.input_type_list.DatePicker")),1)]),_:1})):R("",!0)]),_:1},8,["label"]),o(B,{label:t.$t("common.required")},{default:e(({row:r})=>[i("div",{onClick:a[8]||(a[8]=E(()=>{},["stop"]))},[o(_e,{disabled:"",size:"small",modelValue:r.required,"onUpdate:modelValue":q=>r.required=q},null,8,["modelValue","onUpdate:modelValue"])])]),_:1},8,["label"]),o(B,{label:t.$t("common.operation"),align:"left",width:"90"},{default:e(({row:r,$index:q})=>[i("span",_l,[o(te,{effect:"dark",content:t.$t("common.modify"),placement:"top"},{default:e(()=>[o(N,{type:"primary",text:"",onClick:E(ue=>pe(r,q),["stop"])},{default:e(()=>[o(z,{iconName:"app-edit"})]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),o(te,{effect:"dark",content:t.$t("common.delete"),placement:"top"},{default:e(()=>[o(N,{type:"primary",text:"",onClick:ue=>De(q)},{default:e(()=>[o(z,{iconName:"app-delete"})]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:1},8,["label"])]),_:1},8,["data"]),i("div",yl,[i("h4",gl,[g(s(t.$t("common.param.inputParam"))+" ",1),o(ie,{type:"info",class:"color-secondary"},{default:e(()=>[g(s(t.$t("views.tool.form.param.paramInfo1")),1)]),_:1})]),o(N,{link:"",type:"primary",onClick:a[9]||(a[9]=r=>le())},{default:e(()=>[o(ve,{class:"mr-4"},{default:e(()=>[o(fe)]),_:1}),g(" "+s(t.$t("common.add")),1)]),_:1})]),o(ye,{ref_key:"inputFieldTableRef",ref:v,data:p.value.inputFieldList,class:"mb-16"},{default:e(()=>[o(B,{prop:"name",label:t.$t("views.tool.form.paramName.label")},null,8,["label"]),o(B,{label:t.$t("views.tool.form.dataType.label")},{default:e(({row:r})=>[o(Y,{type:"info",class:"info-tag"},{default:e(()=>[g(s(r.type),1)]),_:2},1024)]),_:1},8,["label"]),o(B,{label:t.$t("common.required")},{default:e(({row:r})=>[i("div",{onClick:a[10]||(a[10]=E(()=>{},["stop"]))},[o(_e,{size:"small",modelValue:r.isRequired,"onUpdate:modelValue":q=>r.isRequired=q},null,8,["modelValue","onUpdate:modelValue"])])]),_:1},8,["label"]),o(B,{prop:"source",label:t.$t("views.tool.form.source.label")},{default:e(({row:r})=>[g(s(r.source==="custom"?t.$t("common.custom"):t.$t("views.tool.form.source.reference")),1)]),_:1},8,["label"]),o(B,{label:t.$t("common.operation"),align:"left",width:"90"},{default:e(({row:r,$index:q})=>[i("span",bl,[o(te,{effect:"dark",content:t.$t("common.modify"),placement:"top"},{default:e(()=>[o(N,{type:"primary",text:"",onClick:E(ue=>le(r,q),["stop"])},{default:e(()=>[o(z,{iconName:"app-edit"})]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),o(te,{effect:"dark",content:t.$t("common.delete"),placement:"top"},{default:e(()=>[o(N,{type:"primary",text:"",onClick:ue=>ee(q)},{default:e(()=>[o(z,{iconName:"app-delete"})]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:1},8,["label"])]),_:1},8,["data"]),i("h4",$l,[g(s(t.$t("views.tool.form.param.code"))+" ",1),a[17]||(a[17]=i("span",{style:{color:"red","margin-left":"-10px"}},"*",-1)),o(ie,{type:"info",class:"color-secondary"},{default:e(()=>[g(s(t.$t("views.tool.form.param.paramInfo2")),1)]),_:1})]),D.value?(y(),H("div",hl,[o(qe,{title:t.$t("views.tool.form.param.code"),modelValue:p.value.code,"onUpdate:modelValue":a[11]||(a[11]=r=>p.value.code=r),onSubmitDialog:x},null,8,["title","modelValue"])])):R("",!0),i("h4",kl,[g(s(t.$t("common.param.outputParam"))+" ",1),o(ie,{type:"info",class:"color-secondary"},{default:e(()=>[g(s(t.$t("views.tool.form.param.paramInfo1")),1)]),_:1})]),i("div",Fl,[i("span",null,s(t.$t("common.result"))+" {result}",1)])]),o(tl,{ref_key:"ToolDebugDrawerRef",ref:F},null,512),o(Ye,{ref_key:"FieldFormDialogRef",ref:f,onRefresh:Fe},null,512),o(al,{ref_key:"UserFieldFormDialogRef",ref:k,onRefresh:we},null,512),o(rl,{ref_key:"EditAvatarDialogRef",ref:c,onRefresh:Ve},null,512)]),_:1},8,["modelValue"])}}});export{Cl as _,Ll as a,Rl as b,rl as c};
