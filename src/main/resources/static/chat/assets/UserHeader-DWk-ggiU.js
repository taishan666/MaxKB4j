import{aJ as v,bc as g,bp as I,aK as f,a_ as p,aM as r,aO as i,bn as x,aT as l,aW as E,ba as W,cq as M,cr as _,aZ as R,b8 as $,b9 as y,b0 as A,aL as h,aY as B,aQ as m,aS as u,b1 as w,cs as b}from"./chat-DICb8T2p.js";import{T as D,A as S}from"./index.vue_vue_type_script_setup_true_lang-VRzwMzzx.js";const N={class:"title"},O=v({__name:"MenuItem",props:{menu:{}},setup(d){const c=g(),n=I(),e=d,s=f(()=>{const{name:o,path:a,meta:t}=n;return o==e.menu.name&&a==e.menu.path||(t==null?void 0:t.activeMenu)==e.menu.path});return(o,a)=>{var t;return r(),p("div",{class:x(["menu-item-container h-full",s.value?"active":""]),onClick:a[0]||(a[0]=k=>i(c).push({name:o.menu.name}))},[l("div",N,E(o.$t((t=o.menu.meta)==null?void 0:t.title)),1)],2)}}}),P=W(O,[["__scopeId","data-v-b4f90672"]]),F={class:"top-menu-container flex align-center h-full"},T=v({__name:"index",setup(d){const c=f(()=>{const n=M("/","home").filter(e=>{var s;return((s=e.meta)==null?void 0:s.menu)&&(e.meta.permission?_(e.meta.permission,"OR"):!0)});return n.sort((e,s)=>(e.meta&&e.meta.order?e.meta.order:1)-(s.meta&&s.meta.order?s.meta.order:1)),n});return(n,e)=>{const s=R("hasPermission");return r(),p("div",F,[(r(!0),p($,null,y(c.value,(o,a)=>{var t;return A((r(),h(P,{menu:o,key:a},null,8,["menu"])),[[s,(t=o.meta)==null?void 0:t.permission]])}),128))])}}}),U={class:"app-top-bar-container border-b flex-center"},V={class:"logo mt-4"},H={class:"flex-between w-full"},q={class:"ml-24 flex align-center w-120"},z=v({__name:"UserHeader",setup(d){const c=g(),n=I(),{user:e}=B(),s=f(()=>e.workspaceList.find(a=>a.id==e.workspaceId));function o(a){const{meta:{activeMenu:t}}=n;a.id!==e.workspaceId&&(e.setWorkspaceId(a.id||"default"),t.includes("application")&&n.path!="/application"?c.push("/application"):t.includes("knowledge")&&n.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(a,t)=>{const k=m("LogoFull"),C=m("el-divider"),L=m("WorkspaceDropdown");return r(),p("div",U,[l("div",V,[u(k)]),l("div",H,[l("div",q,[i(_)(i(b).IS_EE,"OR")?(r(),h(C,{key:0,class:"mr-8",direction:"vertical"})):w("",!0),i(_)(i(b).IS_EE,"OR")?(r(),h(L,{key:1,data:i(e).workspaceList,currentWorkspace:s.value,onChangeWorkspace:o},null,8,["data","currentWorkspace"])):w("",!0)]),u(T),u(D,{class:"mr-12"})]),u(S)])}}}),Q=W(z,[["__scopeId","data-v-9b56546a"]]);export{Q as U};
