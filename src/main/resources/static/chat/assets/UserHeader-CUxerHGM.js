import{ay as b,az as W,b8 as y,b9 as w,aD as _,bc as v,aF as r,bo as i,bS as L,aI as l,aH as u,aJ as x,co as E,du as D,bu as f,bq as N,bh as R,bi as $,br as B,aE as k,aA as M,bd as A,bv as C}from"./chat-BFw4auTk.js";import{T as S,A as F}from"./index.vue_vue_type_script_setup_true_lang-K3xVt40y.js";const P={class:"title flex align-center"},z=b({__name:"MenuItem",props:{menu:{}},setup(h){const c=W(),a=y(),e=h,t=w(()=>{const{name:s,path:n,meta:o}=a;return s==e.menu.name&&n==e.menu.path||(o==null?void 0:o.activeMenu)==e.menu.path});return(s,n)=>{var p,m,d,g,I;const o=_("AppIcon");return r(),v("div",{class:L(["menu-item-container h-full border-r-6",t.value?"active":""]),onClick:n[0]||(n[0]=G=>i(c).push({name:s.menu.name}))},[l("div",P,[u(o,{iconName:t.value?((p=s.menu.meta)==null?void 0:p.iconActive)||((m=s.menu.meta)==null?void 0:m.icon):(g=(d=s.menu)==null?void 0:d.meta)==null?void 0:g.icon,style:{"font-size":"16px"},class:"mr-4"},null,8,["iconName"]),l("span",null,x(s.$t((I=s.menu.meta)==null?void 0:I.title)),1)])],2)}}}),H=E(z,[["__scopeId","data-v-60c92f8c"]]),O={class:"top-menu-container flex align-center h-full"},U=b({__name:"index",setup(h){const c=w(()=>{const a=D("/","home").filter(e=>{var t;return((t=e.meta)==null?void 0:t.menu)&&(e.meta.permission?f(e.meta.permission,"OR"):!0)});return a.sort((e,t)=>(e.meta&&e.meta.order?e.meta.order:1)-(t.meta&&t.meta.order?t.meta.order:1)),a});return(a,e)=>{const t=N("hasPermission");return r(),v("div",O,[(r(!0),v(R,null,$(c.value,(s,n)=>{var o;return B((r(),k(H,{menu:s,key:n},null,8,["menu"])),[[t,(o=s.meta)==null?void 0:o.permission]])}),128))])}}}),V={class:"app-top-bar-container border-b flex-center"},T={class:"logo mt-4"},q={class:"flex-between w-full"},J={class:"ml-24 flex align-center w-120"},j=b({__name:"UserHeader",setup(h){const c=W(),a=y(),{user:e}=M(),t=w(()=>e.workspaceList.find(n=>n.id==e.workspaceId));function s(n){const{meta:{activeMenu:o}}=a;n.id!==e.workspaceId&&(e.setWorkspaceId(n.id||"default"),o.includes("application")&&a.path!="/application"?c.push("/application"):o.includes("knowledge")&&a.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(n,o)=>{const p=_("LogoFull"),m=_("el-divider"),d=_("WorkspaceDropdown");return r(),v("div",V,[l("div",T,[u(p)]),l("div",q,[l("div",J,[i(f)(i(C).IS_EE,"OR")?(r(),k(m,{key:0,class:"mr-8",direction:"vertical"})):A("",!0),i(f)(i(C).IS_EE,"OR")?(r(),k(d,{key:1,data:i(e).workspaceList,currentWorkspace:t.value,onChangeWorkspace:s},null,8,["data","currentWorkspace"])):A("",!0)]),u(U),u(S,{class:"mr-12"})]),u(F)])}}}),X=E(j,[["__scopeId","data-v-9b56546a"]]);export{X as U};
