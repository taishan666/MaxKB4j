import{aJ as E,bb as O,aP as U,bd as z,bq as J,aQ as l,aL as _,aM as n,aR as o,aS as r,a_ as f,b8 as b,b9 as h,b1 as Q,ev as W,aT as j,aW as B,b4 as G,aV as H}from"./chat-DICb8T2p.js";const K={class:"ellipsis",style:{"max-width":"190px"}},ee=E({__name:"MemberFormContent",props:O({models:{},addText:{},keepOneLine:{type:Boolean},deleteButtonDisabled:{type:Function}},{form:{default:[]},formModifiers:{}}),emits:["update:form"],setup(v,{expose:F}){const t=v,m=U(),y={},u=z(v,"form");function M(){u.value.push({...y})}J(()=>t.models,()=>{t.models.forEach(a=>{y[a.path]=[]})},{immediate:!0});function N(a){u.value.splice(a,1)}return F({validate:()=>{var a;return m.value?(a=m.value)==null?void 0:a.validate():Promise.resolve()}}),(a,Y)=>{const $=l("el-tooltip"),D=l("el-option"),L=l("el-select"),T=l("el-form-item"),A=l("AppIcon"),k=l("el-button"),I=l("el-scrollbar"),R=l("Plus"),S=l("el-icon"),q=l("el-form");return n(),_(q,{model:u.value,ref_key:"formRef",ref:m,"label-position":"top","require-asterisk-position":"right"},{default:o(()=>[r(I,null,{default:o(()=>[(n(!0),f(b,null,h(u.value,(c,i)=>{var P;return n(),f("div",{key:i,class:"flex w-full"},[(n(!0),f(b,null,h(t.models,e=>(n(),_(T,{key:e.path,prop:`[${i}].${e.path}`,rules:e.rules,label:i===0&&e.label?e.label:"",class:"mr-8",style:{flex:"1"}},{default:o(()=>{var g,x,V,p,C;return[(g=e==null?void 0:e.hidden)!=null&&g.call(e,c)?Q("",!0):(n(),_(L,W({key:0,modelValue:c[e.path],"onUpdate:modelValue":d=>c[e.path]=d,placeholder:((x=e.selectProps)==null?void 0:x.placeholder)??a.$t("common.selectPlaceholder"),clearable:(V=e.selectProps)!=null&&V.clearableFunction?(C=(p=e.selectProps)==null?void 0:p.clearableFunction)==null?void 0:C.call(p,c):!0,filterable:"",multiple:"",style:{width:"100%"},"collapse-tags":"","collapse-tags-tooltip":""},{ref_for:!0},e.selectProps),{default:o(()=>{var d;return[(n(!0),f(b,null,h((d=e.selectProps)==null?void 0:d.options,s=>{var w;return n(),_(D,{key:s.value,label:s.label,value:s.value,disabled:(w=s.disabledFunction)==null?void 0:w.call(s,c)},{default:o(()=>[r($,{effect:"dark",content:s.label,placement:"top","show-after":500},{default:o(()=>[j("div",K,B(s.label),1)]),_:2},1032,["content"])]),_:2},1032,["label","value","disabled"])}),128))]}),_:2},1040,["modelValue","onUpdate:modelValue","placeholder","clearable"]))]}),_:2},1032,["prop","rules","label"]))),128)),r(k,{disabled:t.keepOneLine&&u.value.length===1||((P=t.deleteButtonDisabled)==null?void 0:P.call(t,c)),onClick:e=>N(i),text:"",style:G({"margin-top":i===0&&t.models.some(e=>e.label)?"32px":"2px"})},{default:o(()=>[r(A,{iconName:"app-delete"})]),_:2},1032,["disabled","onClick","style"])])}),128))]),_:1}),r(k,{type:"primary",text:"",class:"mt-2",onClick:M},{default:o(()=>[r(S,{class:"mr-4"},{default:o(()=>[r(R)]),_:1}),H(" "+B(t.addText??a.$t("views.role.member.add")),1)]),_:1})]),_:1},8,["model"])}}});export{ee as _};
