import{ay as wl,b8 as hl,aA as kl,b9 as Z,c4 as Se,aC as C,bg as Ie,aB as m,c0 as Sl,az as Il,bs as Ml,bc as u,aI as s,aH as a,aJ as d,aE as w,bd as r,bo as _,aG as o,aD as c,bf as M,bp as Me,bu as Tl,bk as ee,bv as Te,aK as y,br as le,bq as $l,bt as te,cv as T,cw as ae,bj as $e,bS as K,bh as z,bi as oe,cx as Ve,cy as Vl,aF as i,cz as Pl,cA as h,ca as Pe,co as Rl}from"./chat-BFw4auTk.js";import{_ as Cl,G as Dl,a as El,b as Al,c as Ll,d as Ol,e as ql,f as Nl}from"./GeneratePromptDialog-DC3E4A4d.js";const Ul={class:"p-16-24 application-setting"},xl={class:"flex-between w-full mb-16"},zl={class:"p-24 mb-16",style:{"padding-bottom":"0"}},Bl={class:"title-decoration-1"},Fl={class:"scrollbar-height-left"},Kl={class:"flex-between"},Wl={class:"flex-between"},jl={class:"flex-between"},Gl={class:"flex align-center"},Hl={class:"mb-12 lighter"},Jl={class:"mr-4"},Ql={key:0,class:"color-danger ml-4"},Xl={class:"flex align-center"},Yl={class:"lighter"},Zl={key:0,class:"ml-4"},et={class:"mr-4"},lt={key:0,class:"w-full"},tt={key:1},at={class:"flex align-center",style:{width:"80%"}},ot=["title"],st={class:"mb-8 mt-12 flex-between"},nt={class:"mr-4 lighter"},it={key:0,class:"flex"},dt={key:0},pt={class:"flex align-center lighter cursor"},ut={key:0,class:"ml-4"},rt={class:"flex"},ct={key:0,class:"w-full mb-16"},mt={key:0,class:"flex-between border border-r-6 white-bg mb-4",style:{padding:"5px 8px"}},vt={class:"flex align-center",style:{"line-height":"20px"}},ft=["src"],gt=["title"],_t={key:1},bt={class:"flex align-center lighter cursor"},yt={key:0,class:"ml-4"},wt={class:"flex"},ht={key:0,class:"w-full mb-16"},kt={key:0,class:"flex-between border border-r-6 white-bg mb-4",style:{padding:"5px 8px"}},St={class:"flex align-center",style:{"line-height":"20px"}},It=["src"],Mt=["title"],Tt={class:"flex-between"},$t={class:"mr-4"},Vt={class:"flex"},Pt={class:"flex-between"},Rt={class:"mr-4"},Ct={key:0,class:"color-danger"},Dt={class:"flex"},Et={class:"flex-between"},At={class:"mr-4"},Lt={key:0,class:"color-danger"},Ot={class:"flex"},qt={class:"w-full"},Nt={class:"flex-between w-full"},Ut={class:"title-decoration-1 mb-16"},xt={class:"dialog-bg"},zt={class:"scrollbar-height"},Bt=wl({__name:"ApplicationSetting",setup(Ft){const N=hl(),se=Il(),{params:{id:k}}=N,{user:Re,folder:Ce}=kl(),v=Z(()=>N.path.includes("resource-management")?"systemManage":"workspace"),ne=Z(()=>Se.application[v.value]),U=Z(()=>Se.tool[v.value]),De=C("views.application.form.prompt.defaultPrompt",{data:"{data}",question:"{question}"}),Ee=C("views.application.dialog.defaultPrompt1",{question:"{question}"})+"<data></data>"+C("views.application.dialog.defaultPrompt2"),f=Ie({prompt:!0,knowledge_setting:!0,MCP:!0,tool:!0,agent:!0}),W=m(),Ae=m(),j=m(),ie=m(),G=m(),de=m(),b=m(!1),Le=m(!1),e=m({name:"",desc:"",modelId:"",dialogueNumber:1,prologue:C("views.application.form.defaultPrologue"),knowledgeIdList:[],knowledgeSetting:{topN:3,similarity:.6,maxParagraphCharNumber:5e3,searchMode:"embedding",noReferencesSetting:{status:"ai_questioning",value:"{question}"}},applicationIds:[],toolIds:[],toolOutputEnable:!1,modelSetting:{prompt:De,system:C("views.application.form.roleSettings.placeholder"),noReferencesPrompt:"{question}",reasoningContentEnable:!1},modelParamsSetting:{},problemOptimization:!1,problemOptimizationPrompt:Ee,sttModelId:"",ttsModelId:"",sttModelEnable:!1,ttsModelEnable:!1,ttsType:"BROWSER",type:"SIMPLE"}),pe=m();function Oe(){pe.value.open(e.value.toolIds)}function qe(l){e.value.toolIds&&(e.value.toolIds=e.value.toolIds.filter(t=>t!==l))}const ue=m(),Ne=()=>{var l;e.value.modelId&&((l=ue.value)==null||l.open(e.value.modelId,k))};function Ue(l){e.value.toolIds=l.toolIds}m({});const xe=l=>{e.value.modelSetting.system=l},ze=Ie({name:[{required:!0,message:C("views.application.form.appName.placeholder"),trigger:"blur"}]}),re=m(null),E=m([]),ce=m(null),me=m(null);function Be(l){e.value.prologue=l}function Fe(l){e.value.modelSetting.prompt=l}function Ke(l){e.value.modelSetting.system=l}function We(l){e.value.modelSetting={...e.value.modelSetting,...l}}const je=l=>{l&&l.validate().then(()=>M({type:"application",systemType:v.value}).putApplication(k,e.value,b).then(()=>M({type:"application",systemType:v.value}).publish(k,{},b)).then(()=>{Me(C("views.application.tip.publishSuccess"))}))},Ge=async l=>{l&&await l.validate((t,p)=>{t&&M({type:"application",systemType:v.value}).putApplication(k,e.value,b).then(()=>{Me(C("common.saveSuccess"))})})},He=l=>{var t;e.value.modelId=l,l?(t=W.value)==null||t.reset_default(l,k):ve({})},Je=()=>{var l;e.value.modelId&&((l=W.value)==null||l.open(e.value.modelId,k,e.value.modelParamsSetting))},Qe=()=>{var l;e.value.ttsModelId&&((l=j.value)==null||l.open(e.value.ttsModelId,k,e.value.ttsModelParamsSetting))},Xe=()=>{var l;(l=ie.value)==null||l.open(e.value)};function H(l){e.value={...e.value,...l}}function ve(l){e.value.modelParamsSetting=l}function fe(l){e.value.ttsModelParamsSetting=l}function Ye(l){e.value.knowledgeIdList&&e.value.knowledgeIdList.splice(e.value.knowledgeIdList.indexOf(l),1)}function Ze(l){E.value=l,e.value.knowledgeIdList=l.map(t=>t.id)}function el(){de.value.open(e.value.knowledgeIdList)}const ge=m();function ll(){ge.value.open(e.value.applicationIds)}function tl(l){e.value.applicationIds=l.applicationIds,f.agent=!0}const A=m([]);function al(){var l;M({type:"application",systemType:v.value}).getAllApplication({folderId:((l=Ce.currentFolder)==null?void 0:l.id)||Re.getWorkspaceId()}).then(t=>{A.value=t.data.filter(p=>p.isPublish)})}function ol(l){e.value.applicationIds&&(e.value.applicationIds=e.value.applicationIds.filter(t=>t!==l))}const L=m([]);function sl(){var t;const l=v.value==="systemManage"?{scope:"WORKSPACE",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{scope:"WORKSPACE"};M({type:"tool",systemType:v.value}).getAllToolList(l).then(p=>{L.value=[...p.data.shared_tools,...p.data.tools].filter(B=>B.isActive)})}function nl(){M({type:"application",systemType:v.value}).getApplicationDetail(k,b).then(l=>{e.value=l.data,e.value.modelId=l.data.modelId,e.value.sttModelId=l.data.sttModelId,e.value.ttsModelId=l.data.ttsModelId,e.value.ttsType=l.data.ttsType,E.value=l.data.knowledgeList,e.value.modelSetting.noReferencesPrompt=l.data.modelSetting.noReferencesPrompt||"{question}",Tl([Te.IS_EE,Te.IS_PE],"OR")&&M({type:"application",systemType:v.value}).getApplicationSetting(k).then(t=>{e.value={...e.value,...t.data}})})}function _e(){var t;b.value=!0;const l=v.value==="systemManage"?{modelType:"LLM",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{modelType:"LLM"};M({type:"model",systemType:v.value}).getSelectModelList(l).then(p=>{re.value=ee.groupBy(p==null?void 0:p.data,"provider"),b.value=!1}).catch(()=>{b.value=!1})}function il(){var t;b.value=!0;const l=v.value==="systemManage"?{modelType:"STT",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{modelType:"STT"};M({type:"model",systemType:v.value}).getSelectModelList(l).then(p=>{ce.value=ee.groupBy(p==null?void 0:p.data,"provider"),b.value=!1}).catch(()=>{b.value=!1})}function dl(){var t;b.value=!0;const l=v.value==="systemManage"?{modelType:"TTS",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{modelType:"TTS"};M({type:"model",systemType:v.value}).getSelectModelList(l).then(p=>{me.value=ee.groupBy(p==null?void 0:p.data,"provider"),b.value=!1}).catch(()=>{b.value=!1})}const pl=l=>{var t;e.value.ttsModelId=l,l?(t=j.value)==null||t.reset_default(l,k):fe({})};function ul(){e.value.ttsModelEnable||(e.value.ttsModelId=void 0,e.value.ttsType="BROWSER")}function be(){e.value.sttModelEnable||(e.value.sttModelId=void 0)}return Sl(()=>{N.path.includes("WORK_FLOW")&&(v.value=="workspace"?se.push(`/application/workspace/${N.params.id}/workflow`):se.push(`/application/resource-management/${N.params.id}/workflow`))}),Ml(()=>{_e(),nl(),il(),dl(),sl(),al()}),(l,t)=>{const p=c("el-button"),B=c("el-input"),I=c("el-form-item"),ye=c("el-tooltip"),rl=c("el-input-number"),F=c("CaretRight"),$=c("el-icon"),cl=c("el-text"),J=c("Close"),Q=c("el-card"),X=c("el-checkbox"),we=c("el-avatar"),ml=c("ToolIcon"),Y=c("el-switch"),he=c("el-radio"),vl=c("el-radio-group"),fl=c("Operation"),gl=c("el-form"),_l=c("el-scrollbar"),ke=c("el-col"),bl=c("el-row"),yl=$l("loading");return i(),u("div",Ul,[s("div",xl,[s("h3",null,d(l.$t("common.setting")),1),s("div",null,[ne.value.edit(_(k))?(i(),w(p,{key:0,type:"primary",onClick:t[0]||(t[0]=n=>Ge(G.value)),disabled:b.value},{default:o(()=>[y(d(l.$t("common.save")),1)]),_:1},8,["disabled"])):r("",!0),ne.value.edit(_(k))?(i(),w(p,{key:1,type:"primary",onClick:t[1]||(t[1]=n=>je(G.value)),disabled:b.value},{default:o(()=>[y(d(l.$t("views.application.operation.publish")),1)]),_:1},8,["disabled"])):r("",!0)])]),a(Q,{style:{"--el-card-padding":"0"}},{default:o(()=>[le((i(),w(bl,null,{default:o(()=>[a(ke,{span:10},{default:o(()=>[s("div",zl,[s("h4",Bl,d(l.$t("views.applicationOverview.appInfo.header")),1)]),s("div",Fl,[a(_l,null,{default:o(()=>[a(gl,{"hide-required-asterisk":"",ref_key:"applicationFormRef",ref:G,model:e.value,rules:ze,"label-position":"top","require-asterisk-position":"right",class:"p-24",style:{"padding-top":"0"}},{default:o(()=>[a(I,{prop:"name"},{label:o(()=>[s("div",Kl,[s("span",null,[y(d(l.$t("views.application.form.appName.label"))+" ",1),t[25]||(t[25]=s("span",{class:"color-danger"},"*",-1))])])]),default:o(()=>[a(B,{modelValue:e.value.name,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.name=n),maxlength:"64",placeholder:l.$t("views.application.form.appName.placeholder"),"show-word-limit":"",onBlur:t[3]||(t[3]=n=>{var V;return e.value.name=(V=e.value.name)==null?void 0:V.trim()})},null,8,["modelValue","placeholder"])]),_:1}),a(I,{label:l.$t("views.application.form.appDescription.label")},{default:o(()=>[a(B,{modelValue:e.value.desc,"onUpdate:modelValue":t[4]||(t[4]=n=>e.value.desc=n),type:"textarea",placeholder:l.$t("views.application.form.appDescription.placeholder"),rows:3,maxlength:"256","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(I,{label:l.$t("views.application.form.aiModel.label")},{label:o(()=>[s("div",Wl,[s("span",null,d(l.$t("views.application.form.aiModel.label")),1),a(p,{type:"primary",link:"",onClick:Je,disabled:!e.value.modelId},{default:o(()=>[a(T,{iconName:"app-setting",class:"mr-4"}),y(" "+d(l.$t("common.paramSetting")),1)]),_:1},8,["disabled"])])]),default:o(()=>[a(te,{modelValue:e.value.modelId,"onUpdate:modelValue":t[5]||(t[5]=n=>e.value.modelId=n),placeholder:l.$t("views.application.form.aiModel.placeholder"),options:re.value,onChange:He,onSubmitModel:_e,showFooter:!1,"model-type":"LLM"},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"]),a(I,null,{label:o(()=>[s("div",jl,[s("div",Gl,[s("span",null,d(l.$t("views.application.form.roleSettings.label")),1),a(ye,{effect:"dark",content:l.$t("views.application.form.roleSettings.tooltip"),placement:"right"},{default:o(()=>[a(T,{iconName:"app-warning",class:"app-warning-icon ml-4"})]),_:1},8,["content"])]),a(p,{type:"primary",link:"",onClick:Ne,disabled:!e.value.modelId},{default:o(()=>[a(T,{iconName:"app-generate-star",class:"mr-4"}),y(" "+d(l.$t("views.application.generateDialog.label")),1)]),_:1},8,["disabled"])])]),default:o(()=>[a(ae,{title:l.$t("views.application.form.roleSettings.label"),modelValue:e.value.modelSetting.system,"onUpdate:modelValue":t[6]||(t[6]=n=>e.value.modelSetting.system=n),style:{height:"120px"},onSubmitDialog:Ke,placeholder:l.$t("views.application.form.roleSettings.placeholder",{data:"{data}",question:"{question}"})},null,8,["title","modelValue","placeholder"])]),_:1}),a(I,{label:l.$t("views.application.form.historyRecord.label"),onClick:t[8]||(t[8]=$e(()=>{},["prevent"]))},{default:o(()=>[a(rl,{modelValue:e.value.dialogueNumber,"onUpdate:modelValue":t[7]||(t[7]=n=>e.value.dialogueNumber=n),min:0,"value-on-clear":0,"controls-position":"right",class:"w-full",step:1,"step-strictly":!0},null,8,["modelValue"])]),_:1},8,["label"]),s("p",Hl,d(l.$t("views.knowledge.title")),1),a(Q,{shadow:"never",class:"card-never",style:{"--el-card-padding":"12px"}},{default:o(()=>{var n,V,x;return[a(I,{label:l.$t("views.application.form.prompt.label"),prop:"modelSetting.prompt",rules:{required:e.value.modelId,message:l.$t("views.application.form.prompt.requiredMessage"),trigger:"blur"}},{label:o(()=>[s("div",{class:"flex align-center cursor",onClick:t[9]||(t[9]=S=>f.prompt=!f.prompt)},[a($,{class:K(["mr-8 arrow-icon",f.prompt?"rotate-90":""])},{default:o(()=>[a(F)]),_:1},8,["class"]),s("span",Jl,d(l.$t("views.application.form.prompt.label"))+" "+d(l.$t("views.application.form.prompt.references")),1),a(ye,{effect:"dark",content:l.$t("views.application.form.prompt.tooltip"),"popper-class":"max-w-350",placement:"right"},{default:o(()=>[a(T,{iconName:"app-warning",class:"app-warning-icon"})]),_:1},8,["content"]),e.value.modelId?(i(),u("span",Ql,"*")):r("",!0)])]),default:o(()=>[f.prompt?(i(),w(ae,{key:0,title:l.$t("views.application.form.prompt.label")+l.$t("views.application.form.prompt.references"),modelValue:e.value.modelSetting.prompt,"onUpdate:modelValue":t[10]||(t[10]=S=>e.value.modelSetting.prompt=S),style:{height:"150px"},onSubmitDialog:Fe,placeholder:l.$t("views.application.form.prompt.placeholder",{data:"{data}",question:"{question}"})},null,8,["title","modelValue","placeholder"])):r("",!0)]),_:1},8,["label","rules"]),s("div",{class:"flex-between mb-12 cursor",onClick:t[11]||(t[11]=S=>f.knowledge_setting=!f.knowledge_setting)},[s("div",Xl,[a($,{class:K(["mr-8 arrow-icon",f.knowledge_setting?"rotate-90":""])},{default:o(()=>[a(F)]),_:1},8,["class"]),s("span",Yl,d(l.$t("views.application.form.relatedKnowledge.label")),1),(n=e.value.knowledgeIdList)!=null&&n.length?(i(),u("span",Zl,"("+d((V=e.value.knowledgeIdList)==null?void 0:V.length)+")",1)):r("",!0)]),s("div",null,[s("span",et,[a(p,{type:"primary",link:"",onClick:Xe},{default:o(()=>[a(T,{iconName:"app-setting"})]),_:1})]),a(p,{type:"primary",link:"",onClick:el},{default:o(()=>[a(T,{iconName:"app-add-outlined"})]),_:1})])]),f.knowledge_setting?(i(),u("div",lt,[((x=e.value.knowledgeIdList)==null?void 0:x.length)===0?(i(),w(cl,{key:0,type:"info"},{default:o(()=>[y(d(l.$t("views.application.form.relatedKnowledge.placeholder")),1)]),_:1})):(i(),u("div",tt,[(i(!0),u(z,null,oe(e.value.knowledgeIdList,(S,g)=>{var O,P,R;return i(),u("div",{key:g,class:"flex-between border border-r-6 white-bg mb-4",style:{padding:"5px 8px"}},[s("div",at,[a(Pl,{type:(O=_(h)(E.value,S,"id"))==null?void 0:O.type,class:"mr-8",size:20},null,8,["type"]),s("span",{class:"ellipsis cursor",title:(P=_(h)(E.value,S,"id"))==null?void 0:P.name},d((R=_(h)(E.value,S,"id"))==null?void 0:R.name),9,ot)]),a(p,{text:"",onClick:q=>Ye(S)},{default:o(()=>[a($,null,{default:o(()=>[a(J)]),_:1})]),_:2},1032,["onClick"])])}),128))]))])):r("",!0)]}),_:1}),s("div",st,[s("span",nt,d(l.$t("views.application.skill")),1),U.value.read()?(i(),u("div",it,[a(X,{modelValue:e.value.toolOutputEnable,"onUpdate:modelValue":t[12]||(t[12]=n=>e.value.toolOutputEnable=n),label:l.$t("views.application.form.toolOutputEnable")},null,8,["modelValue","label"])])):r("",!0)]),a(Q,{shadow:"never",class:"card-never",style:{"--el-card-padding":"12px"}},{default:o(()=>{var n,V,x,S;return[U.value.read()?(i(),u("div",dt,[s("div",{class:"flex-between mb-8",onClick:t[13]||(t[13]=g=>f.tool=!f.tool)},[s("div",pt,[a($,{class:K(["mr-8 arrow-icon",f.tool?"rotate-90":""])},{default:o(()=>[a(F)]),_:1},8,["class"]),y(" "+d(l.$t("views.tool.title"))+" ",1),(n=e.value.toolIds)!=null&&n.length?(i(),u("span",ut,"("+d((V=e.value.toolIds)==null?void 0:V.length)+")",1)):r("",!0)]),s("div",rt,[a(p,{type:"primary",link:"",onClick:Oe,onRefreshForm:H},{default:o(()=>[a(T,{iconName:"app-add-outlined",class:"mr-4"})]),_:1})])]),e.value.toolIds&&e.value.toolIds.length>0&&U.value.read()&&f.tool?(i(),u("div",ct,[(i(!0),u(z,null,oe(e.value.toolIds,(g,O)=>{var P,R,q;return i(),u(z,{key:O},[_(h)(L.value,g,"id")?(i(),u("div",mt,[s("div",vt,[(P=_(h)(L.value,g,"id"))!=null&&P.icon?(i(),w(we,{key:0,shape:"square",size:20,style:{background:"none"},class:"mr-8"},{default:o(()=>{var D;return[s("img",{src:_(Pe)((D=_(h)(L.value,g,"id"))==null?void 0:D.icon),alt:""},null,8,ft)]}),_:2},1024)):(i(),w(ml,{key:1,class:"mr-8",size:20})),s("div",{class:"ellipsis-1",title:(R=_(h)(L.value,g,"id"))==null?void 0:R.name},d((q=_(h)(L.value,g,"id"))==null?void 0:q.name),9,gt)]),a(p,{text:"",onClick:D=>qe(g)},{default:o(()=>[a($,null,{default:o(()=>[a(J)]),_:1})]),_:2},1032,["onClick"])])):r("",!0)],64)}),128))])):r("",!0)])):r("",!0),U.value.read()?(i(),u("div",_t,[s("div",{class:"flex-between mb-8",onClick:t[14]||(t[14]=g=>f.agent=!f.agent)},[s("div",bt,[a($,{class:K(["mr-8 arrow-icon",f.agent?"rotate-90":""])},{default:o(()=>[a(F)]),_:1},8,["class"]),y(" "+d(l.$t("views.application.title"))+" ",1),(x=e.value.applicationIds)!=null&&x.length?(i(),u("span",yt," ("+d((S=e.value.applicationIds)==null?void 0:S.length)+")",1)):r("",!0)]),s("div",wt,[a(p,{type:"primary",link:"",onClick:ll,onRefreshForm:H},{default:o(()=>[a(T,{iconName:"app-add-outlined",class:"mr-4"})]),_:1})])]),e.value.applicationIds&&e.value.applicationIds.length>0&&U.value.read()&&f.agent?(i(),u("div",ht,[(i(!0),u(z,null,oe(e.value.applicationIds,(g,O)=>{var P,R,q;return i(),u(z,{key:O},[_(h)(A.value,g,"id")?(i(),u("div",kt,[s("div",St,[(P=_(h)(A.value,g,"id"))!=null&&P.icon?(i(),w(we,{key:0,shape:"square",size:20,style:{background:"none"},class:"mr-8"},{default:o(()=>{var D;return[s("img",{src:_(Pe)((D=_(h)(A.value,g,"id"))==null?void 0:D.icon),alt:""},null,8,It)]}),_:2},1024)):(i(),w(T,{key:1,class:"mr-8",size:20})),s("div",{class:"ellipsis-1",title:(R=_(h)(A.value,g,"id"))==null?void 0:R.name},d((q=_(h)(A.value,g,"id"))==null?void 0:q.name),9,Mt)]),a(p,{text:"",onClick:D=>ol(g)},{default:o(()=>[a($,null,{default:o(()=>[a(J)]),_:1})]),_:2},1032,["onClick"])])):r("",!0)],64)}),128))])):r("",!0)])):r("",!0)]}),_:1}),a(I,{label:l.$t("views.application.form.prologue")},{default:o(()=>[a(ae,{title:l.$t("views.application.form.prologue"),modelValue:e.value.prologue,"onUpdate:modelValue":t[15]||(t[15]=n=>e.value.prologue=n),style:{height:"150px"},onSubmitDialog:Be},null,8,["title","modelValue"])]),_:1},8,["label"]),a(I,{onClick:t[17]||(t[17]=$e(()=>{},["prevent"]))},{label:o(()=>[s("div",Tt,[s("span",$t,d(l.$t("views.application.form.reasoningContent.label")),1),s("div",Vt,[a(Y,{class:"ml-8",size:"small",modelValue:e.value.modelSetting.reasoningContentEnable,"onUpdate:modelValue":t[16]||(t[16]=n=>e.value.modelSetting.reasoningContentEnable=n),onChange:be},null,8,["modelValue"])])])]),_:1}),a(I,{prop:"sttModelId",rules:{required:e.value.sttModelEnable,message:l.$t("views.application.form.voiceInput.requiredMessage"),trigger:"change"}},{label:o(()=>[s("div",Pt,[s("span",Rt,[y(d(l.$t("views.application.form.voiceInput.label"))+" ",1),e.value.sttModelEnable?(i(),u("span",Ct,"*")):r("",!0)]),s("div",Dt,[e.value.sttModelEnable?(i(),w(X,{key:0,modelValue:e.value.sttAutoSend,"onUpdate:modelValue":t[18]||(t[18]=n=>e.value.sttAutoSend=n)},{default:o(()=>[y(d(l.$t("views.application.form.voiceInput.autoSend")),1)]),_:1},8,["modelValue"])):r("",!0),a(Y,{class:"ml-8",size:"small",modelValue:e.value.sttModelEnable,"onUpdate:modelValue":t[19]||(t[19]=n=>e.value.sttModelEnable=n),onChange:be},null,8,["modelValue"])])])]),default:o(()=>[le(a(te,{modelValue:e.value.sttModelId,"onUpdate:modelValue":t[20]||(t[20]=n=>e.value.sttModelId=n),placeholder:l.$t("views.application.form.voiceInput.placeholder"),options:ce.value,"model-type":"STT"},null,8,["modelValue","placeholder","options"]),[[Ve,e.value.sttModelEnable]])]),_:1},8,["rules"]),a(I,{prop:"ttsModelId",rules:{required:e.value.ttsType==="TTS"&&e.value.ttsModelEnable,message:l.$t("views.application.form.voicePlay.requiredMessage"),trigger:"change"}},{label:o(()=>[s("div",Et,[s("span",At,[y(d(l.$t("views.application.form.voicePlay.label"))+" ",1),e.value.ttsType==="TTS"&&e.value.ttsModelEnable?(i(),u("span",Lt,"*")):r("",!0)]),s("div",Ot,[e.value.ttsModelEnable?(i(),w(X,{key:0,modelValue:e.value.ttsAutoplay,"onUpdate:modelValue":t[21]||(t[21]=n=>e.value.ttsAutoplay=n)},{default:o(()=>[y(d(l.$t("views.application.form.voicePlay.autoPlay")),1)]),_:1},8,["modelValue"])):r("",!0),a(Y,{class:"ml-8",size:"small",modelValue:e.value.ttsModelEnable,"onUpdate:modelValue":t[22]||(t[22]=n=>e.value.ttsModelEnable=n),onChange:ul},null,8,["modelValue"])])])]),default:o(()=>[s("div",qt,[le(a(vl,{modelValue:e.value.ttsType,"onUpdate:modelValue":t[23]||(t[23]=n=>e.value.ttsType=n),class:"mb-8"},{default:o(()=>[a(he,{value:"BROWSER"},{default:o(()=>[y(d(l.$t("views.application.form.voicePlay.browser")),1)]),_:1}),a(he,{value:"TTS"},{default:o(()=>[y(d(l.$t("views.application.form.voicePlay.tts")),1)]),_:1})]),_:1},8,["modelValue"]),[[Ve,e.value.ttsModelEnable]])]),s("div",Nt,[e.value.ttsType==="TTS"&&e.value.ttsModelEnable?(i(),w(te,{key:0,modelValue:e.value.ttsModelId,"onUpdate:modelValue":t[24]||(t[24]=n=>e.value.ttsModelId=n),placeholder:l.$t("views.application.form.voicePlay.placeholder"),options:me.value,onChange:pl,"model-type":"TTS"},null,8,["modelValue","placeholder","options"])):r("",!0),e.value.ttsType==="TTS"?(i(),w(p,{key:1,onClick:Qe,disabled:!e.value.ttsModelId,class:"ml-8"},{default:o(()=>[a($,null,{default:o(()=>[a(fl)]),_:1})]),_:1},8,["disabled"])):r("",!0)])]),_:1},8,["rules"])]),_:1},8,["model","rules"])]),_:1})])]),_:1}),a(ke,{span:14,class:"p-24 border-l"},{default:o(()=>[s("h4",Ut,d(l.$t("views.application.appTest")),1),s("div",xt,[s("div",zt,[a(Vl,{applicationDetails:e.value,type:"debug-ai-chat"},null,8,["applicationDetails"])])])]),_:1})]),_:1})),[[yl,b.value]])]),_:1}),a(Cl,{ref_key:"AIModeParamSettingDialogRef",ref:W,onRefresh:ve},null,512),a(Dl,{onReplace:xe,ref_key:"GeneratePromptDialogRef",ref:ue},null,512),a(El,{ref_key:"TTSModeParamSettingDialogRef",ref:j,onRefresh:fe},null,512),a(Al,{ref_key:"ParamSettingDialogRef",ref:ie,onRefresh:H},null,512),a(Ll,{ref_key:"AddKnowledgeDialogRef",ref:de,onAddData:Ze,data:E.value,loading:Le.value},null,8,["data","loading"]),a(Ol,{ref_key:"ReasoningParamSettingDialogRef",ref:Ae,onRefresh:We},null,512),a(ql,{ref_key:"toolDialogRef",ref:pe,onRefresh:Ue},null,512),a(Nl,{ref_key:"applicationDialogRef",ref:ge,onRefresh:tl},null,512)])}}}),jt=Rl(Bt,[["__scopeId","data-v-e2cc7a4a"]]);export{jt as default};
