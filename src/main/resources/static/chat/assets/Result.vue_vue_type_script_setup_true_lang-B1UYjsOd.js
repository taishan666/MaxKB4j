import{ay as h,b8 as v,b9 as c,aB as k,ba as g,bb as w,aD as _,bc as p,aF as s,aI as E,bd as o,aH as S,aJ as R,aE as d,be as T,bf as C}from"./chat-BcZeCBLv.js";const D={class:"title-decoration-1 mb-16 mt-4"},A={key:0,class:"mb-16"},U=h({__name:"Result",props:{id:{},knowledgeId:{},isRecord:{type:Boolean}},setup(f){const m=v(),n=f,y=c(()=>a.value?Object.values(a.value.details):[]),l=c(()=>a.value?a.value.state:"PADDING"),b=c(()=>m.path.includes("shared")?"systemShare":m.path.includes("resource-management")?"systemManage":"workspace"),a=k();let e=null;const i=()=>{e!=null&&C({type:"knowledge",systemType:b.value}).getWorkflowAction(n.knowledgeId,n.id).then(t=>{a.value=t.data}).finally(()=>{["SUCCESS","FAILURE","REVOKED"].includes(l.value)?r():e=setTimeout(i,2e3)})},r=()=>{e&&(clearTimeout(e),e=null)};return e=setTimeout(i,0),g(()=>n.id,()=>{r(),e=setTimeout(i,0)}),w(()=>{r()}),(t,B)=>{const u=_("el-alert");return s(),p("div",null,[E("h4",D,R(t.$t("chat.executionDetails.title")),1),t.isRecord?o("",!0):(s(),p("div",A,[l.value=="SUCCESS"?(s(),d(u,{key:0,title:t.$t("common.status.success"),type:"success","show-icon":"",closable:!1},null,8,["title"])):o("",!0),l.value=="STARTED"?(s(),d(u,{key:1,title:t.$t("common.status.padding"),type:"info","show-icon":"",closable:!1},null,8,["title"])):o("",!0),l.value=="FAILURE"?(s(),d(u,{key:2,title:t.$t("common.status.fail"),type:"error","show-icon":"",closable:!1},null,8,["title"])):o("",!0)])),S(T,{detail:y.value,"app-type":"WORK_FLOW"},null,8,["detail"])])}}});export{U as _};
