import{f9 as Pe,fa as dr,ay as me,aB as E,bq as Kt,aD as v,bp as ue,aE as D,aF as S,bz as fr,aG as a,d9 as pr,bk as J,bi as ke,bn as G,b9 as pt,aI as $,aH as r,bj as j,aJ as h,aK as O,bd as he,b8 as vr,bo as ye,c7 as Re,cv as oe,bl as ie,b_ as ot,ba as ve,ds as mr,cj as et,cx as _r,bm as tt,aC as B,ca as ae,ci as gr,az as Vt,b5 as wr,cO as hr,ck as yr,bU as rt,cn as Ce,cr as kr,b6 as Se,aA as br,bW as Er,dt as Sr,cN as Cr,c3 as Rr,c4 as Ir,dv as $r,c9 as vt,bt as re,bX as te,bZ as z,bY as Dr}from"./chat-C--1ojLo.js";import{a as Ar,_ as Tr,K as mt}from"./validate-CPI3IXTb.js";import{r as Ut,a as Ht,b as Bt,c as jt,d as Or,e as at,f as Ie,g as Gt,h as nt,i as zt,j as Jt,k as Xt,l as Nr,m as Zt,n as qr,o as $e,p as Qt,q as xr,s as Pr,t as Fr,u as Lr,v as Mr,w as Yt,x as Wr,y as er,z as Kr,A as Vr,B as Ur,C as Hr,D as Br,E as jr,F as Gr}from"./array-method-is-strict-Cfhh_w4j.js";import{_ as tr,a as zr,b as Jr}from"./KnowledgeBase.vue_vue_type_script_setup_true_lang-Bli2Yjzu.js";import{k as Xr}from"./data-BuJ9-uu-.js";import"./GeneratePromptDialog-QJaBhBtq.js";import"./reduce-DcQ7ubdi.js";import"./uniqBy-BReAdcCz.js";import"./min-BrfiNN_p.js";import"./zipObject-Bx8QOw3o.js";import"./vue-draggable-plus-Dffa15F2.js";import"./FieldFormDialog.vue_vue_type_script_setup_true_lang-DWLzZUEP.js";import"./defineProperty-DbXIQDXj.js";import"./typeof-QjJsDpFa.js";var _t={},Fe,gt;function Zr(){if(gt)return Fe;gt=1;var f=TypeError,l=9007199254740991;return Fe=function(t){if(t>l)throw f("Maximum allowed index exceeded");return t},Fe}var Le,wt;function Qr(){if(wt)return Le;wt=1;var f=Ut(),l=Ht(),t=Bt();return Le=function(e,o,u){f?l.f(e,o,t(0,u)):e[o]=u},Le}var Me,ht;function Yr(){if(ht)return Me;ht=1;var f=jt(),l=Or(),t=Ie(),e=at(),o=e("species"),u=Array;return Me=function(s){var i;return f(s)&&(i=s.constructor,l(i)&&(i===u||f(i.prototype))?i=void 0:t(i)&&(i=i[o],i===null&&(i=void 0))),i===void 0?u:i},Me}var We,yt;function rr(){if(yt)return We;yt=1;var f=Yr();return We=function(l,t){return new(f(l))(t===0?0:t)},We}var Ke,kt;function eo(){if(kt)return Ke;kt=1;var f=nt(),l=at(),t=Gt(),e=l("species");return Ke=function(o){return t>=51||!f(function(){var u=[],s=u.constructor={};return s[e]=function(){return{foo:1}},u[o](Boolean).foo!==1})},Ke}var bt;function to(){if(bt)return _t;bt=1;var f=zt(),l=nt(),t=jt(),e=Ie(),o=Jt(),u=Xt(),s=Zr(),i=Qr(),R=rr(),p=eo(),d=at(),g=Gt(),N=d("isConcatSpreadable"),y=g>=51||!l(function(){var q=[];return q[N]=!1,q.concat()[0]!==q}),_=function(q){if(!e(q))return!1;var K=q[N];return K!==void 0?!!K:t(q)},P=!y||!p("concat");return f({target:"Array",proto:!0,arity:1,forced:P},{concat:function(K){var F=o(this),k=R(F,0),I=0,C,L,U,w,M;for(C=-1,U=arguments.length;C<U;C++)if(M=C===-1?F:arguments[C],_(M))for(w=u(M),s(I+w),L=0;L<w;L++,I++)L in M&&i(k,I,M[L]);else s(I+1),i(k,I++,M);return k.length=I,k}}),_t}to();var Et={},Ve,St;function ro(){if(St)return Ve;St=1;var f=Ht().f;return Ve=function(l,t,e){e in l||f(l,e,{configurable:!0,get:function(){return t[e]},set:function(o){t[e]=o}})},Ve}var Ue,Ct;function oo(){if(Ct)return Ue;Ct=1;var f=Nr(),l=Ie(),t=Zt();return Ue=function(e,o,u){var s,i;return t&&f(s=o.constructor)&&s!==u&&l(i=s.prototype)&&i!==u.prototype&&t(e,i),e},Ue}var He,Rt;function ao(){if(Rt)return He;Rt=1;var f=qr();return He=function(l,t){return l===void 0?arguments.length<2?"":t:f(l)},He}var Be,It;function no(){if(It)return Be;It=1;var f=Ie(),l=$e();return Be=function(t,e){f(e)&&"cause"in e&&l(t,"cause",e.cause)},Be}var je,$t;function lo(){if($t)return je;$t=1;var f=Qt(),l=Error,t=f("".replace),e=function(s){return String(new l(s).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,u=o.test(e);return je=function(s,i){if(u&&typeof s=="string"&&!l.prepareStackTrace)for(;i--;)s=t(s,o,"");return s},je}var Ge,Dt;function so(){if(Dt)return Ge;Dt=1;var f=nt(),l=Bt();return Ge=!f(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",l(1,7)),t.stack!==7):!0}),Ge}var ze,At;function io(){if(At)return ze;At=1;var f=$e(),l=lo(),t=so(),e=Error.captureStackTrace;return ze=function(o,u,s,i){t&&(e?e(o,u):f(o,"stack",l(s,i)))},ze}var Je,Tt;function uo(){if(Tt)return Je;Tt=1;var f=xr(),l=Pr(),t=$e(),e=Fr(),o=Zt(),u=Lr(),s=ro(),i=oo(),R=ao(),p=no(),d=io(),g=Ut(),N=Mr();return Je=function(y,_,P,q){var K="stackTraceLimit",F=q?2:1,k=y.split("."),I=k[k.length-1],C=f.apply(null,k);if(C){var L=C.prototype;if(!N&&l(L,"cause")&&delete L.cause,!P)return C;var U=f("Error"),w=_(function(M,n){var m=R(q?n:M,void 0),A=q?new C(M):new C;return m!==void 0&&t(A,"message",m),d(A,w,A.stack,2),this&&e(L,this)&&i(A,this,w),arguments.length>F&&p(A,arguments[F]),A});if(w.prototype=L,I!=="Error"?o?o(w,U):u(w,U,{name:!0}):g&&K in C&&(s(w,C,K),s(w,C,"prepareStackTrace")),u(w,C),!N)try{L.name!==I&&t(L,"name",I),L.constructor=w}catch{}return w}},Je}var Ot;function co(){if(Ot)return Et;Ot=1;var f=zt(),l=Yt(),t=Wr(),e=uo(),o="WebAssembly",u=l[o],s=new Error("e",{cause:7}).cause!==7,i=function(p,d){var g={};g[p]=e(p,d,s),f({global:!0,constructor:!0,arity:1,forced:s},g)},R=function(p,d){if(u&&u[p]){var g={};g[p]=e(o+"."+p,d,s),f({target:o,stat:!0,constructor:!0,arity:1,forced:s},g)}};return i("Error",function(p){return function(g){return t(p,this,arguments)}}),i("EvalError",function(p){return function(g){return t(p,this,arguments)}}),i("RangeError",function(p){return function(g){return t(p,this,arguments)}}),i("ReferenceError",function(p){return function(g){return t(p,this,arguments)}}),i("SyntaxError",function(p){return function(g){return t(p,this,arguments)}}),i("TypeError",function(p){return function(g){return t(p,this,arguments)}}),i("URIError",function(p){return function(g){return t(p,this,arguments)}}),R("CompileError",function(p){return function(g){return t(p,this,arguments)}}),R("LinkError",function(p){return function(g){return t(p,this,arguments)}}),R("RuntimeError",function(p){return function(g){return t(p,this,arguments)}}),Et}co();var Nt={},Xe,qt;function fo(){if(qt)return Xe;qt=1;var f=er(),l=Kr();return Xe=f?{}.toString:function(){return"[object "+l(this)+"]"},Xe}var xt;function po(){if(xt)return Nt;xt=1;var f=er(),l=Vr(),t=fo();return f||l(Object.prototype,"toString",t,{unsafe:!0}),Nt}po();var Pt={},Ze,Ft;function vo(){if(Ft)return Ze;Ft=1;var f=Ur(),l=Qt(),t=Hr(),e=Jt(),o=Xt(),u=rr(),s=l([].push),i=function(R){var p=R===1,d=R===2,g=R===3,N=R===4,y=R===6,_=R===7,P=R===5||y;return function(q,K,F,k){for(var I=e(q),C=t(I),L=o(C),U=f(K,F),w=0,M=k||u,n=p?M(q,L):d||_?M(q,0):void 0,m,A;L>w;w++)if((P||w in C)&&(m=C[w],A=U(m,w,I),R))if(p)n[w]=A;else if(A)switch(R){case 3:return!0;case 5:return m;case 6:return w;case 2:s(n,m)}else switch(R){case 4:return!1;case 7:s(n,m)}return y?-1:g||N?N:n}};return Ze={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6),filterReject:i(7)},Ze}var Qe,Lt;function mo(){if(Lt)return Qe;Lt=1;var f=vo().forEach,l=Br(),t=l("forEach");return Qe=t?[].forEach:function(o){return f(this,o,arguments.length>1?arguments[1]:void 0)},Qe}var Mt;function _o(){if(Mt)return Pt;Mt=1;var f=Yt(),l=Gr(),t=jr(),e=mo(),o=$e(),u=function(i){if(i&&i.forEach!==e)try{o(i,"forEach",e)}catch{i.forEach=e}};for(var s in l)l[s]&&u(f[s]&&f[s].prototype);return u(t),Pt}_o();/*!
 * el-table-infinite-scroll v3.0.8
 * (c) 2019-2025 yujinpan
 */function go(f,l,t){var e;t.forEach(function(o){e=f.getAttribute(o),e!==null?l.setAttribute(o,e):l.removeAttribute(o)})}/*!
 * el-table-infinite-scroll v3.0.8
 * (c) 2019-2025 yujinpan
 */var or="[el-table-infinite-scroll]: ",wo={mounted:function(l,t,e,o){var u=Ye(l),s=u.scrollElem;s.style.overflowY="auto",setTimeout(function(){l.style.height||(s.style.height="400px",console.warn("".concat(or,"el-table height required, otherwise will set scrollbar default height: 400px"))),Wt(l,s),Pe.mounted(s,t,e,o)},0)},updated:function(l){var t=Ye(l),e=t.scrollElem;Wt(l,e)},unmounted:function(l){for(var t=Ye(l),e=t.scrollElem,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];Pe.unmounted.apply(Pe,[e].concat(u))}};function Ye(f){var l,t=dr(),e=".".concat(((l=t.value)===null||l===void 0?void 0:l.namespace)||"el","-scrollbar__wrap"),o=f.querySelector(e);if(!o)throw new Error("".concat(or).concat(e," element not found."));return{scrollElem:o}}function Wt(f,l){go(f,l,["infinite-scroll-disabled","infinite-scroll-delay","infinite-scroll-immediate","infinite-scroll-distance"]);var t="infinite-scroll-distance",e=+(f.getAttribute(t)||0);l.setAttribute(t,(e<1?1:e)+"")}/*!
 * el-table-infinite-scroll v3.0.8
 * (c) 2019-2025 yujinpan
 */var ar=Object.assign(wo,{install:function(l){l.directive("el-table-infinite-scroll",ar)}});const ho=me({name:"AppTableInfiniteScroll"}),yo=me({...ho,props:{paginationConfig:{type:Object,required:!0,default:()=>({current_page:1,page_size:50,total:0})},maxTableHeight:{type:Number,default:300}},emits:["changePage"],setup(f,{expose:l,emit:t}){const e=f,o=t,u=E(),s=E(""),i=E(!1),R=()=>{i.value||(e.paginationConfig.current_page*e.paginationConfig.page_size<=e.paginationConfig.total&&o("changePage"),e.paginationConfig.current_page*e.paginationConfig.page_size===e.paginationConfig.total&&(i.value=!0))};return l({}),Kt(()=>{s.value=window.innerHeight-e.maxTableHeight,window.onresize=()=>(()=>{s.value=window.innerHeight-e.maxTableHeight})()}),(p,d)=>{const g=v("el-table");return ue((S(),D(g,fr({"max-height":s.value},p.$attrs,{ref_key:"appTableRef",ref:u,height:s.value+"px","infinite-scroll-disabled":i.value}),{default:a(()=>[pr(p.$slots,"default")]),_:3},16,["max-height","height","infinite-scroll-disabled"])),[[J(ar),R]])}}}),ko={class:"flex align-center",style:{"margin-left":"-8px"}},bo={class:"title-decoration-1 mb-16 mt-4"},Eo={class:"color-secondary mb-4"},So={class:"color-secondary mb-4"},Co={class:"color-secondary mb-4"},Ro={class:"color-secondary mb-4"},Io=me({__name:"ExecutionDetailDrawer",props:{currentId:{},currentContent:{},next:{},pre:{},pre_disable:{type:Boolean},next_disable:{type:Boolean}},emits:["update:currentId","update:currentContent"],setup(f,{expose:l,emit:t}){const e=f,o=t,u=ke();G(()=>u.path.includes("shared")?"systemShare":u.path.includes("resource-management")?"systemManage":"workspace");const s=E(!1),i=E(!1);function R(){}return pt(()=>e.currentId,()=>{}),pt(i,d=>{d||(o("update:currentId",""),o("update:currentContent",null))}),l({open:()=>{i.value=!0}}),(d,g)=>{const N=v("Back"),y=v("el-icon"),_=v("el-button"),P=v("el-col"),q=v("SuccessFilled"),K=v("el-text"),F=v("CircleCloseFilled"),k=v("Loading"),I=v("el-row"),C=v("el-card"),L=v("el-scrollbar"),U=v("el-drawer");return S(),D(U,{modelValue:i.value,"onUpdate:modelValue":g[1]||(g[1]=w=>i.value=w),size:"800px",modal:!1,"destroy-on-close":"","before-close":R,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{header:a(()=>[$("div",ko,[r(_,{class:"cursor mr-4",link:"",onClick:g[0]||(g[0]=he(w=>i.value=!1,["prevent"]))},{default:a(()=>[r(y,{size:20},{default:a(()=>[r(N)]),_:1})]),_:1}),$("h4",null,h(d.$t("chat.executionDetails.title")),1)])]),footer:a(()=>[$("div",null,[r(_,{onClick:d.pre,disabled:d.pre_disable||s.value},{default:a(()=>[O(h(d.$t("common.pages.prev")),1)]),_:1},8,["onClick","disabled"]),r(_,{onClick:d.next,disabled:d.next_disable||s.value},{default:a(()=>[O(h(d.$t("common.pages.next")),1)]),_:1},8,["onClick","disabled"])])]),default:a(()=>[$("div",null,[r(L,null,{default:a(()=>[$("h4",bo,h(d.$t("workflow.ExecutionRecord")),1),r(C,{class:"mb-24",shadow:"never",style:{"--el-card-padding":"12px 16px"}},{default:a(()=>[r(I,{gutter:16,class:"lighter"},{default:a(()=>[r(P,{span:6},{default:a(()=>{var w;return[$("p",Eo,h(d.$t("workflow.initiator")),1),$("p",null,h(((w=e.currentContent)==null?void 0:w.meta.username)||"-"),1)]}),_:1}),r(P,{span:6},{default:a(()=>{var w,M;return[$("p",So,h(d.$t("common.status.label")),1),$("p",null,[((w=e.currentContent)==null?void 0:w.state)==="SUCCESS"?(S(),D(K,{key:0,class:"color-text-primary"},{default:a(()=>[r(y,{class:"color-success"},{default:a(()=>[r(q)]),_:1}),O(" "+h(d.$t("common.status.success")),1)]),_:1})):((M=e.currentContent)==null?void 0:M.state)==="FAILURE"?(S(),D(K,{key:1,class:"color-text-primary"},{default:a(()=>[r(y,{class:"color-danger"},{default:a(()=>[r(F)]),_:1}),O(" "+h(d.$t("common.status.fail")),1)]),_:1})):(S(),D(K,{key:2,class:"color-text-primary"},{default:a(()=>[r(y,{class:"is-loading color-primary"},{default:a(()=>[r(k)]),_:1}),O(" "+h(d.$t("common.status.padding")),1)]),_:1}))])]}),_:1}),r(P,{span:6},{default:a(()=>{var w,M,n;return[$("p",Co,h(d.$t("chat.KnowledgeSource.consumeTime")),1),$("p",null,h(((w=e.currentContent)==null?void 0:w.runTime)!=null?((n=(M=e.currentContent)==null?void 0:M.runTime)==null?void 0:n.toFixed(2))+"s":"-"),1)]}),_:1}),r(P,{span:6},{default:a(()=>{var w;return[$("p",Ro,h(d.$t("chat.executionDetails.createTime")),1),$("p",null,h((w=e.currentContent)==null?void 0:w.createTime),1)]}),_:1})]),_:1})]),_:1}),e.currentContent?(S(),D(tr,{key:0,knowledgeId:e.currentContent.knowledgeId,id:d.currentId,"is-record":""},null,8,["knowledgeId","id"])):j("",!0)]),_:1})])]),_:1},8,["modelValue"])}}}),$o={class:"flex mb-16"},Do={class:"flex-between complex-search"},Ao=me({__name:"ExecutionRecordDrawer",setup(f,{expose:l}){const t=E(!1),e=ke(),o=G(()=>e.path.includes("shared")?"systemShare":e.path.includes("resource-management")?"systemManage":"workspace"),u=vr({current_page:1,page_size:50,total:0}),s=E({username:"",state:""}),i=E(!1),R=E("username"),p=E(""),d=E([]),g=G(()=>d.value.map((n,m)=>({[n.id]:m})).reduce((n,m)=>({...n,...m}),{})),N=E(),y=E(""),_=E(""),P=n=>{var m;_.value=n,y.value=n.id,(m=N.value)==null||m.open()},q=()=>{s.value={username:"",status:""}},K=()=>{u.current_page+=1,F()},F=n=>(n&&(u.current_page=1,d.value=[]),ie({type:"knowledge",systemType:o.value}).getWorkflowActionPage(p.value,u,s.value,i).then(m=>{var A;u.total=(A=m.data)==null?void 0:A.total,d.value=d.value.concat(m.data.records)})),k=G(()=>g.value[y.value]-1<0),I=G(()=>{const n=g.value[y.value]+1;return n>=d.value.length&&n>=u.total-1}),C=({row:n})=>y.value===(n==null?void 0:n.id)?"highlight":"",L=()=>{const n=g.value[y.value]+1;if(n>=d.value.length){if(n>=u.total-1)return;u.current_page=u.current_page+1,F().then(()=>{y.value=d.value[n].id,_.value=d.value[n]})}else y.value=d.value[n].id,_.value=d.value[n]},U=()=>{const n=g.value[y.value]-1;console.log("index",n),n>=0&&(y.value=d.value[n].id,_.value=d.value[n])},w=n=>{p.value=n,F(),t.value=!0},M=()=>{u.current_page=1,u.total=0,d.value=[],t.value=!1};return l({open:w,close:M}),(n,m)=>{const A=v("el-option"),ee=v("el-select"),ce=v("el-input"),Z=v("el-table-column"),we=v("SuccessFilled"),de=v("el-icon"),fe=v("el-text"),Q=v("CircleCloseFilled"),_e=v("Loading"),le=v("el-button"),De=v("el-tooltip"),Ae=v("el-drawer"),ne=ye("loading");return S(),D(Ae,{modelValue:t.value,"onUpdate:modelValue":m[7]||(m[7]=x=>t.value=x),title:n.$t("workflow.ExecutionRecord"),direction:"rtl",size:"800px","before-close":M},{default:a(()=>[$("div",$o,[$("div",Do,[r(ee,{modelValue:R.value,"onUpdate:modelValue":m[0]||(m[0]=x=>R.value=x),class:"complex-search__left",onChange:q,style:{width:"120px"}},{default:a(()=>[r(A,{label:n.$t("workflow.initiator"),value:"username"},null,8,["label"]),r(A,{label:n.$t("common.status.label"),value:"state"},null,8,["label"])]),_:1},8,["modelValue"]),R.value==="state"?(S(),D(ee,{key:0,modelValue:s.value.state,"onUpdate:modelValue":m[1]||(m[1]=x=>s.value.state=x),onChange:m[2]||(m[2]=x=>F(!0)),style:{width:"220px"},clearable:""},{default:a(()=>[r(A,{label:n.$t("common.status.success"),value:"SUCCESS"},null,8,["label"]),r(A,{label:n.$t("common.status.fail"),value:"FAILURE"},null,8,["label"]),r(A,{label:n.$t("common.status.padding"),value:"PADDING"},null,8,["label"])]),_:1},8,["modelValue"])):(S(),D(ce,{key:1,modelValue:s.value.username,"onUpdate:modelValue":m[3]||(m[3]=x=>s.value.username=x),onChange:m[4]||(m[4]=x=>F(!0)),placeholder:n.$t("common.search"),"prefix-icon":"Search",style:{width:"220px"},clearable:""},null,8,["modelValue","placeholder"]))])]),ue((S(),D(yo,{data:d.value,class:"w-full",onChangePage:K,maxTableHeight:150,paginationConfig:u,"row-class-name":C},{default:a(()=>[r(Z,{prop:"username",label:n.$t("workflow.initiator")},{default:a(({row:x})=>[O(h(x.meta.username),1)]),_:1},8,["label"]),r(Z,{prop:"state",label:n.$t("common.status.label"),width:"180"},{default:a(({row:x})=>[x.state==="SUCCESS"?(S(),D(fe,{key:0,class:"color-text-primary"},{default:a(()=>[r(de,{class:"color-success"},{default:a(()=>[r(we)]),_:1}),O(" "+h(n.$t("common.status.success")),1)]),_:1})):x.state==="FAILURE"?(S(),D(fe,{key:1,class:"color-text-primary"},{default:a(()=>[r(de,{class:"color-danger"},{default:a(()=>[r(Q)]),_:1}),O(" "+h(n.$t("common.status.fail")),1)]),_:1})):(S(),D(fe,{key:2,class:"color-text-primary"},{default:a(()=>[r(de,{class:"is-loading color-primary"},{default:a(()=>[r(_e)]),_:1}),O(" "+h(n.$t("common.status.padding")),1)]),_:1}))]),_:1},8,["label"]),r(Z,{prop:"runTime",label:n.$t("chat.KnowledgeSource.consumeTime")},{default:a(({row:x})=>{var ge;return[O(h(x.runTime!=null?((ge=x.runTime)==null?void 0:ge.toFixed(2))+"s":"-"),1)]}),_:1},8,["label"]),r(Z,{prop:"createTime",label:n.$t("chat.executionDetails.createTime"),width:"180"},{default:a(({row:x})=>[O(h(J(Re)(x.createTime)),1)]),_:1},8,["label"]),r(Z,{label:n.$t("common.operation"),width:"80"},{default:a(({row:x})=>[r(De,{effect:"dark",content:n.$t("chat.executionDetails.title"),placement:"top"},{default:a(()=>[r(le,{type:"primary",text:"",onClick:he(ge=>P(x),["stop"])},{default:a(()=>[r(oe,{iconName:"app-operate-log"})]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:1},8,["label"])]),_:1},8,["data","paginationConfig"])),[[ne,i.value]]),r(Io,{ref_key:"ExecutionDetailDrawerRef",ref:N,currentId:y.value,"onUpdate:currentId":m[5]||(m[5]=x=>y.value=x),currentContent:_.value,"onUpdate:currentContent":m[6]||(m[6]=x=>_.value=x),next:L,pre:U,pre_disable:k.value,next_disable:I.value},null,8,["currentId","currentContent","pre_disable","next_disable"])]),_:1},8,["modelValue","title"])}}}),To={class:"workflow-publish-history border-l white-bg"},Oo={class:"border-b p-16-24"},No={class:"list-height pt-0"},qo={class:"p-8 pt-0"},xo={class:"flex-between"},Po={style:{"max-width":"80%"}},Fo={class:"text-center"},Lo=me({__name:"PublishHistory",emits:["click","refreshVersion"],setup(f,{emit:l}){const t=ke(),{params:{id:e,folderId:o}}=t,u=G(()=>t.path.includes("shared")?"systemShare":t.path.includes("resource-management")?"systemManage":"workspace"),s=G(()=>ot.knowledge[u.value]),i=l,R=E(!1),p=E([]),d=E("");function g(k){d.value=k.id}function N(k){i("click",k)}function y(k){i("refreshVersion",k)}function _(k){k.writeStatus=!0}function P(k){k.writeStatus=!1}const q=G(()=>o==="share");function K(k,I){if(k){const C={name:k};ie({type:"knowledge",isShared:q.value,systemType:u.value}).updateKnowledgeVersion(e,I.id,C,R).then(()=>{tt(B("common.modifySuccess")),I.writeStatus=!1,F()})}else ae(B("workflow.tip.nameMessage"))}function F(){ie({type:"knowledge",isShared:q.value,systemType:u.value}).listKnowledgeVersion(e,R).then(k=>{p.value=k.data})}return Kt(()=>{F()}),(k,I)=>{const C=v("ReadWrite"),L=v("el-tag"),U=v("UserFilled"),w=v("el-icon"),M=v("el-avatar"),n=v("el-text"),m=v("AppIcon"),A=v("el-button"),ee=v("el-dropdown-item"),ce=v("RefreshLeft"),Z=v("el-dropdown-menu"),we=v("el-dropdown"),de=v("el-scrollbar"),fe=ye("loading");return S(),ve("div",To,[$("h4",Oo,h(k.$t("workflow.setting.releaseHistory")),1),$("div",No,[r(de,null,{default:a(()=>[$("div",qo,[ue((S(),D(mr,{data:p.value,class:"mt-8",onClick:N,onMouseenter:g,onMouseleave:I[1]||(I[1]=Q=>d.value="")},{default:a(({row:Q,index:_e})=>[$("div",xo,[$("div",Po,[$("h5",{class:et([_e===0?"primary":"","flex align-center"])},[r(C,{onChange:le=>K(le,Q),data:Q.name||J(Re)(Q.updateTime),trigger:"manual",write:Q.writeStatus,onClose:le=>P(Q)},null,8,["onChange","data","write","onClose"]),_e===0?(S(),D(L,{key:0,class:"default-tag ml-4"},{default:a(()=>[O(h(k.$t("workflow.setting.latestRelease")),1)]),_:1})):j("",!0)],2),r(n,{type:"info",class:"color-secondary flex align-center mt-8"},{default:a(()=>[r(M,{size:20,class:"avatar-grey mr-4"},{default:a(()=>[r(w,null,{default:a(()=>[r(U)]),_:1})]),_:1}),O(" "+h(Q.publishUserName),1)]),_:2},1024)]),ue($("div",{onClick:I[0]||(I[0]=he(()=>{},["stop"]))},[r(we,{trigger:"click",teleported:!1},{dropdown:a(()=>[r(Z,null,{default:a(()=>[s.value.workflow_edit(J(e))?(S(),D(ee,{key:0,onClick:he(le=>_(Q),["stop"])},{default:a(()=>[r(m,{iconName:"app-edit",class:"color-secondary"}),O(" "+h(k.$t("common.edit")),1)]),_:2},1032,["onClick"])):j("",!0),r(ee,{onClick:le=>y(Q)},{default:a(()=>[r(w,{class:"color-secondary"},{default:a(()=>[r(ce)]),_:1}),O(" "+h(k.$t("workflow.setting.restoreCurrentVersion")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[r(A,{text:""},{default:a(()=>[r(m,{iconName:"app-more"})]),_:1})]),_:2},1024)],512),[[_r,d.value===Q.id]])])]),empty:a(()=>[$("div",Fo,[r(n,{type:"info"},{default:a(()=>[O(h(k.$t("chat.noHistory")),1)]),_:1})])]),_:1},8,["data"])),[[fe,R.value]])])]),_:1})])])}}}),Mo=gr(Lo,[["__scopeId","data-v-4fe2d9a4"]]),Wo={style:{height:"calc(100% - 57px)"}},Ko=me({__name:"DebugDrawer",setup(f,{expose:l}){Ce("upload",(n,m)=>kr.postUploadFile(n,u,"KNOWLEDGE",m));const t=E(0),e=Vt(),o=ke(),{params:{id:u,folderId:s}}=o,i={dataSource:Jr,knowledgeBase:zr,result:tr},R=G(()=>o.path.includes("shared")?"systemShare":o.path.includes("resource-management")?"systemManage":"workspace"),p=E(!1),d=E(),g=E(),N=E({}),y=E("dataSource"),_=E(!1),P=E(null),q=()=>{_.value=!1,P.value=null,y.value="dataSource"},K=n=>{_.value=!0,P.value=n},F=G(()=>{var m,A;const n=(A=(m=P.value)==null?void 0:m.nodes)==null?void 0:A.find(ee=>ee.type===wr.KnowledgeBase);return n?n.properties.user_input_field_list:[]}),k=()=>{g.value.validate().then(()=>{N.value[y.value]=g.value.get_data(),y.value="knowledgeBase"})},I=()=>{g.value.validate().then(()=>{y.value="dataSource"})},C=G(()=>s==="share"),L=G(()=>ot.knowledge[R.value]),U=()=>{L.value.doc_create(u)?g.value.validate().then(()=>{N.value[y.value]=g.value.get_data(),ie({type:"knowledge",isShared:C.value,systemType:R.value}).workflowAction(u,N.value,p).then(n=>{d.value=n.data.id,y.value="result"})}):ae(B("views.application.tip.noDocPermission"))},w=()=>{y.value="dataSource",t.value++,d.value=void 0;const n=P.value;P.value=null,N.value={},rt(()=>{P.value=n})},M=()=>{const n=e.resolve({path:`/knowledge/${u}/${s}/2/document`}).href;window.open(n)};return l({close:q,open:K}),(n,m)=>{const A=v("el-button"),ee=v("el-drawer"),ce=ye("loading");return S(),D(ee,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=Z=>_.value=Z),title:n.$t("common.debug"),size:"800px",direction:"rtl","destroy-on-close":"","before-close":q,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[y.value=="result"?(S(),D(A,{key:0,onClick:w},{default:a(()=>[O(h(n.$t("views.document.buttons.continueImporting")),1)]),_:1})):j("",!0),F.value.length>0&&y.value=="knowledgeBase"?(S(),D(A,{key:1,loading:p.value,onClick:I},{default:a(()=>[O(h(n.$t("common.steps.prev")),1)]),_:1},8,["loading"])):j("",!0),F.value.length>0&&y.value=="dataSource"?(S(),D(A,{key:2,loading:p.value,onClick:k},{default:a(()=>[O(h(n.$t("common.steps.next")),1)]),_:1},8,["loading"])):j("",!0),(F.value.length>0?y.value=="knowledgeBase":y.value=="dataSource")?(S(),D(A,{key:3,onClick:U,type:"primary",loading:p.value},{default:a(()=>[O(h(n.$t("views.document.buttons.import")),1)]),_:1},8,["loading"])):j("",!0),y.value=="result"?(S(),D(A,{key:4,type:"primary",onClick:M},{default:a(()=>[O(h(n.$t("views.knowledge.ResultSuccess.buttons.toDocument")),1)]),_:1})):j("",!0)]),default:a(()=>[ue((S(),ve("div",Wo,[(S(),D(hr,{key:t.value,include:["DataSource","KnowledgeBase"]},[(S(),D(yr(i[y.value]),{ref_key:"ActionRef",ref:g,loading:p.value,"onUpdate:loading":m[0]||(m[0]=Z=>p.value=Z),workflow:P.value,knowledgeId:J(u),id:d.value},null,40,["loading","workflow","knowledgeId","id"]))],1024))])),[[ce,p.value]])]),_:1},8,["modelValue","title"])}}}),Vo={class:"knowledge-workflow"},Uo={class:"header border-b flex-between p-12-24 white-bg"},Ho={class:"flex align-center"},Bo=["title"],jo={key:0},Go={key:0},zo={key:1},Jo={class:"ml-4"},Xo={class:"workflow-main",ref:"workflowMainRef"},Zo={class:"flex-between"},Qo={class:"flex align-center"},Yo={class:"mr-12 ml-24 flex"},ea=["src"],ta=["title"],ra={class:"mr-16"},ga=me({__name:"index",setup(f){Ce("getResourceDetail",()=>_),Ce("workflowMode",Se.Knowledge),Ce("loopWorkflowMode",Se.KnowledgeLoop);const{theme:l}=br(),t=Vt(),e=ke(),{params:{id:o,folderId:u}}=e,s=G(()=>e.path.includes("shared")?"systemShare":e.path.includes("resource-management")?"systemManage":e.path.includes("share/")?"workspaceShare":"workspace"),i=G(()=>ot.knowledge[s.value]),R=G(()=>l.isDefaultTheme()),p=E(),d=E();let g;const N=E(),y=E(!1),_=E(null),P=E(!1),q=E(!1),K=E(!1),F=E(""),k=E(!1),I=E(!1),C=E(!1),L=E({}),U=E(null),w=E([]),M=G(()=>{var c;return(c=_.value)==null?void 0:c.isPublish});function n(){JSON.stringify(U.value)!==JSON.stringify(ne())?vt(B("common.tip"),B("workflow.tip.saveMessage"),{confirmButtonText:B("workflow.setting.exitSave"),cancelButtonText:B("workflow.setting.exit"),distinguishCancelAndClose:!0}).then(()=>{Te(!0,!0)}).catch(c=>{c==="cancel"&&Oe()}):Oe()}const m=()=>{var c;(c=d.value)==null||c.open(o)};function A(){C.value||(I.value=!1,C.value=!1)}function ee(c){c&&Z(c),I.value=!1,C.value=!1}function ce(c){C.value=!0,L.value=c,Z(c),qe()}function Z(c){var b;c.workFlow.nodes.map(V=>{V.properties.noRender=!0}),_.value.workFlow=c.workFlow,F.value=c==null?void 0:c.update_time,(b=N.value)==null||b.clearGraphData(),rt(()=>{var V;(V=N.value)==null||V.render(c.workFlow)})}function we(){ge(),k.value&&Ne(),I.value=!1,C.value=!1}function de(){I.value=!0}function fe(c){c?Ne():qe(),localStorage.setItem("workflowAutoSave",c.toString())}function Q(c){P.value=!1}function _e(c){P.value=!1}function le(){P.value=!1}const De=()=>{var c;(c=N.value)==null||c.validate().then(()=>{const b=ne(),V=new mt(b,Se.Knowledge);try{V.is_valid()}catch(T){ae(T.toString());return}ie({type:"knowledge",isShared:x.value,systemType:s.value}).putKnowledgeWorkflow(o,{workFlow:b}).then(()=>ie({type:"knowledge",isShared:x.value,systemType:s.value}).publish(o,{},y)).then(T=>{_.value.isPublish=!0,tt(B("views.application.tip.publishSuccess"))}).catch(T=>{var H,Y,se,be;const X=T.node,W=T.errMessage;if(typeof W=="string")ae(((H=T.node.properties)==null?void 0:H.nodeName)+` ${B("workflow.node").toLowerCase()} `+W.toLowerCase());else{const xe=Object.keys(W);ae(((Y=X.properties)==null?void 0:Y.nodeName)+` ${B("workflow.node").toLowerCase()} `+((be=(se=W[xe[0]])==null?void 0:se[0])==null?void 0:be.message.toLowerCase()))}})}).catch(b=>{var X,W,H,Y;const V=b.node,T=b.errMessage;if(typeof T=="string")ae(((X=b.node.properties)==null?void 0:X.nodeName)+` ${B("workflow.node")}，`+T);else{const se=Object.keys(T);ae(((W=V.properties)==null?void 0:W.nodeName)+` ${B("workflow.node")}，`+((Y=(H=T[se[0]])==null?void 0:H[0])==null?void 0:Y.message))}})},Ae=()=>{var c;(c=N.value)==null||c.validate().then(()=>{var T,X;const b=ne(),V=new mt(b,Se.Knowledge);try{V.is_valid(),_.value={..._.value,type:"WORK_FLOW",...(T=V.get_base_node())==null?void 0:T.properties.nodeData,workFlow:ne()},(X=p.value)==null||X.open(b)}catch(W){ae(W.toString())}}).catch(b=>{var X,W,H,Y;const V=b.node,T=b.errMessage;if(typeof T=="string")ae(((X=b.node.properties)==null?void 0:X.nodeName)+` ${B("workflow.node")}，`+T);else{const se=Object.keys(T);ae(((W=V.properties)==null?void 0:W.nodeName)+` ${B("workflow.node")}，`+((Y=(H=T[se[0]])==null?void 0:H[0])==null?void 0:Y.message))}})};function ne(){var c;return(c=N.value)==null?void 0:c.getGraphData()}const x=G(()=>u==="share");function ge(){ie({type:"knowledge",isShared:x.value,systemType:s.value}).getKnowledgeDetail(o).then(c=>{var b,V,T,X;_.value=c.data,_.value.stt_model_id=c.data.stt_model,_.value.tts_model_id=c.data.tts_model,_.value.tts_type=c.data.tts_type,F.value=(b=c.data)==null?void 0:b.update_time,(!_.value.workFlow||!("nodes"in _.value.workFlow))&&(_.value.workFlow={nodes:[Xr]}),(T=(V=_.value.workFlow)==null?void 0:V.nodes)==null||T.filter(W=>W.id==="knowledge-base-node").map(W=>{w.value=W.properties.api_input_field_list?W.properties.api_input_field_list.map(H=>({name:H.variable,value:H.default_value})):W.properties.input_field_list?W.properties.input_field_list.filter(H=>H.assignment_method==="api_input").map(H=>({name:H.variable,value:H.default_value})):[]}),(X=N.value)==null||X.clearGraphData(),rt(()=>{var W;(W=N.value)==null||W.render(_.value.workFlow),U.value=ne()})})}function Te(c,b){const V={workFlow:ne()};y.value=b||!1,ie({type:"knowledge",isShared:x.value,systemType:s.value}).putKnowledgeWorkflow(o,V).then(()=>{F.value=new Date,c&&(U.value=ne(),tt(B("common.saveSuccess")),b&&Oe())}).catch(()=>{y.value=!1})}const Oe=()=>e.path.includes("resource-management")?t.push({path:lr()}):e.path.includes("shared")?t.push({path:nr()}):t.push({path:sr()}),nr=()=>re([te.ADMIN,z.SHARED_KNOWLEDGE_DOCUMENT_READ],"OR")?`/knowledge/${o}/shared/2/document`:re([te.ADMIN,z.SHARED_KNOWLEDGE_PROBLEM_READ],"OR")?`/knowledge/${o}/shared/2/problem`:re([te.ADMIN,z.SHARED_KNOWLEDGE_HIT_TEST_READ],"OR")?`/knowledge/${o}/shared/2/hit-test`:re([te.ADMIN,z.SHARED_KNOWLEDGE_CHAT_USER_READ],"OR")?`/knowledge/${o}/shared/2/chat-user`:re([te.ADMIN,z.SHARED_KNOWLEDGE_EDIT],"OR")?`/knowledge/${o}/shared/2/setting`:"/system/shared/knowledge",lr=()=>re([te.ADMIN,z.RESOURCE_KNOWLEDGE_DOCUMENT_READ],"OR")?`/knowledge/${o}/resource-management/2/document`:re([te.ADMIN,z.RESOURCE_KNOWLEDGE_PROBLEM_READ],"OR")?`/knowledge/${o}/resource-management/2/problem`:re([te.ADMIN,z.RESOURCE_KNOWLEDGE_HIT_TEST],"OR")?`/knowledge/${o}/resource-management/2/hit-test`:re([te.ADMIN,z.RESOURCE_KNOWLEDGE_CHAT_USER_READ],"OR")?`/knowledge/${o}/resource-management/2/chat-user`:re([te.ADMIN,z.RESOURCE_KNOWLEDGE_EDIT],"OR")?`/knowledge/${o}/resource-management/2/setting`:"/system/resource-management/knowledge",sr=()=>{const c=b=>re([new Dr([te.USER],[z.KNOWLEDGE.getKnowledgeWorkspaceResourcePermission(o)],[],"AND"),te.WORKSPACE_MANAGE.getWorkspaceRole,b.getWorkspacePermissionWorkspaceManageRole,b.getKnowledgeWorkspaceResourcePermission(o)],"OR");return c(z.KNOWLEDGE_DOCUMENT_READ)?`/knowledge/${o}/${u}/2/document`:c(z.KNOWLEDGE_PROBLEM_READ)?`/knowledge/${o}/${u}/2/problem`:c(z.KNOWLEDGE_HIT_TEST_READ)?`/knowledge/${o}/${u}/2/hit-test`:c(z.KNOWLEDGE_CHAT_USER_READ)?`/knowledge/${o}/${u}/2/chat-user`:c(z.KNOWLEDGE_EDIT)?`/knowledge/${o}/${u}/2/setting`:"/knowledge"},ir=()=>{if(M.value){const c=t.resolve({path:`/knowledge/import/workflow/${u}`,query:{id:o}}).href;window.open(c)}else vt(B("common.tip"),B("views.document.tip.toImportDocConfirm"),{cancelButtonText:B("common.close"),showConfirmButton:!1,type:"warning"}).then(()=>{}).catch(()=>{})},Ne=()=>{g=setInterval(()=>{Te()},6e4)},qe=()=>{g&&clearInterval(g)};return Er(()=>{ge();const c=localStorage.getItem("workflowAutoSave");k.value=c==="true",k.value&&Ne()}),Sr(()=>{var c;qe(),(c=N.value)==null||c.clearGraphData()}),(c,b)=>{var it,ut,ct;const V=v("el-text"),T=v("el-button"),X=v("el-divider"),W=v("Close"),H=v("el-icon"),Y=v("el-dropdown-item"),se=v("el-switch"),be=v("el-dropdown-menu"),xe=v("el-dropdown"),lt=v("el-collapse-transition"),ur=v("el-avatar"),st=ye("click-outside"),cr=ye("loading");return ue((S(),ve("div",Vo,[$("div",Uo,[$("div",Ho,[r(Cr,{onClick:n}),$("h4",{class:"ellipsis",style:{"max-width":"300px"},title:(it=_.value)==null?void 0:it.name},h((ut=_.value)==null?void 0:ut.name),9,Bo),I.value&&C.value?(S(),ve("div",jo,[r(V,{type:"info",class:"ml-16 color-secondary"},{default:a(()=>[O(h(c.$t("workflow.info.previewVersion"))+" "+h(L.value.name||J(Re)(L.value.updateTime)),1)]),_:1})])):F.value?(S(),D(V,{key:1,type:"info",class:"ml-16 color-secondary"},{default:a(()=>[O(h(c.$t("workflow.info.saveTime"))+h(J(Re)(F.value)),1)]),_:1})):j("",!0)]),I.value&&C.value&&!J(e).path.includes("share/")?(S(),ve("div",Go,[r(T,{type:"primary",class:"mr-8",onClick:b[0]||(b[0]=pe=>ee())},{default:a(()=>[O(h(c.$t("workflow.setting.restoreVersion")),1)]),_:1}),r(X,{direction:"vertical"}),r(T,{text:"",onClick:we},{default:a(()=>[r(H,null,{default:a(()=>[r(W)]),_:1})]),_:1})])):J(e).path.includes("share/")?j("",!0):(S(),ve("div",zo,[r(T,{onClick:b[1]||(b[1]=pe=>P.value=!P.value)},{default:a(()=>[r(oe,{iconName:"app-add-outlined",class:"mr-4"}),O(" "+h(c.$t("workflow.setting.addComponent")),1)]),_:1}),i.value.debug(J(o))?(S(),D(T,{key:0,onClick:Ae,disabled:q.value},{default:a(()=>[r(oe,{iconName:"app-debug-outlined",class:"mr-4"}),O(" "+h(c.$t("common.debug")),1)]),_:1},8,["disabled"])):j("",!0),i.value.workflow_edit(J(o))?(S(),D(T,{key:1,onClick:b[2]||(b[2]=pe=>Te(!0))},{default:a(()=>[r(oe,{iconName:"app-save-outlined",class:"mr-4"}),O(" "+h(c.$t("common.save")),1)]),_:1})):j("",!0),i.value.workflow_edit(J(o))?(S(),D(T,{key:2,type:"primary",onClick:De},{default:a(()=>[O(h(c.$t("common.publish")),1)]),_:1})):j("",!0),r(xe,{trigger:"click"},{dropdown:a(()=>[r(be,null,{default:a(()=>[r(Y,{onClick:ir},{default:a(()=>[r(oe,{iconName:"app-to-import-doc",class:"color-secondary"}),O(" "+h(c.$t("workflow.operation.toImportDoc")),1)]),_:1}),r(Y,{onClick:m,divided:""},{default:a(()=>[r(oe,{iconName:"app-execution-record",class:"color-secondary"}),O(" "+h(c.$t("workflow.ExecutionRecord")),1)]),_:1}),r(Y,{onClick:de},{default:a(()=>[r(oe,{iconName:"app-history-outlined",class:"color-secondary"}),O(" "+h(c.$t("workflow.setting.releaseHistory")),1)]),_:1}),i.value.workflow_edit(J(o))?(S(),D(Y,{key:0},{default:a(()=>[r(oe,{iconName:"app-save-outlined",class:"color-secondary"}),O(" "+h(c.$t("workflow.setting.autoSave"))+" ",1),$("div",Jo,[r(se,{size:"small",modelValue:k.value,"onUpdate:modelValue":b[4]||(b[4]=pe=>k.value=pe),onChange:fe},null,8,["modelValue"])])]),_:1})):j("",!0)]),_:1})]),default:a(()=>[r(T,{text:"",onClick:b[3]||(b[3]=he(()=>{},["stop"])),class:"ml-8 mt-4"},{default:a(()=>[r(oe,{iconName:"app-more",class:"rotate-90"})]),_:1})]),_:1})]))]),r(lt,null,{default:a(()=>[ue(r(Ar,{show:P.value,id:J(o),onClickNodes:Q,onOnmousedown:_e,workflowRef:N.value},null,8,["show","id","workflowRef"]),[[st,le]])]),_:1}),$("div",Xo,[_.value?(S(),D(Tr,{key:0,ref_key:"workflowRef",ref:N,data:(ct=_.value)==null?void 0:ct.workFlow},null,8,["data"])):j("",!0)],512),r(lt,null,{default:a(()=>{var pe,dt,ft;return[q.value?(S(),ve("div",{key:0,class:et(["workflow-debug-container",K.value?"enlarge":""])},[$("div",{class:et(["workflow-debug-header",R.value?"":"custom-header"])},[$("div",Zo,[$("div",Qo,[$("div",Yo,[J(Rr)((pe=_.value)==null?void 0:pe.icon)?(S(),D(ur,{key:0,shape:"square",size:32,style:{background:"none"}},{default:a(()=>{var Ee;return[$("img",{src:J(Ir)((Ee=_.value)==null?void 0:Ee.icon),alt:""},null,8,ea)]}),_:1})):(S(),D($r,{key:1,height:"32px"}))]),$("h4",{class:"ellipsis",style:{"max-width":"270px"},title:(dt=_.value)==null?void 0:dt.name},h(((ft=_.value)==null?void 0:ft.name)||c.$t("views.knowledge.form.appName.label")),9,ta)]),$("div",ra,[r(T,{link:"",onClick:b[5]||(b[5]=Ee=>K.value=!K.value)},{default:a(()=>[r(oe,{iconName:K.value?"app-minify":"app-magnify",class:"color-secondary",style:{"font-size":"20px"}},null,8,["iconName"])]),_:1}),r(T,{link:"",onClick:b[6]||(b[6]=Ee=>q.value=!1)},{default:a(()=>[r(H,{size:20,class:"color-secondary"},{default:a(()=>[r(W)]),_:1})]),_:1})])])],2)],2)):j("",!0)]}),_:1}),r(Ko,{ref_key:"DebugRef",ref:p},null,512),r(Ao,{ref_key:"ListActionRef",ref:d},null,512),I.value?ue((S(),D(Mo,{key:0,onClick:ce,onRefreshVersion:ee},null,512)),[[st,A]]):j("",!0)])),[[cr,y.value]])}}});export{ga as default};
