import{ay as v,az as g,bi as I,bn as f,ba as p,aF as r,bk as i,cj as E,aI as l,aJ as L,ci as C,dB as y,bt as _,bo as A,bb as B,bc as D,bp as R,aE as h,aA as $,aD as m,aH as u,bj as b,bu as w}from"./chat-BvM2GaQg.js";import{T as M,A as F}from"./index.vue_vue_type_script_setup_true_lang-DeX2cQG6.js";const N={class:"title"},P=v({__name:"MenuItem",props:{menu:{}},setup(d){const c=g(),n=I(),e=d,s=f(()=>{const{name:a,path:o,meta:t}=n;return a==e.menu.name&&o==e.menu.path||(t==null?void 0:t.activeMenu)==e.menu.path});return(a,o)=>{var t;return r(),p("div",{class:E(["menu-item-container h-full",s.value?"active":""]),onClick:o[0]||(o[0]=k=>i(c).push({name:a.menu.name}))},[l("div",N,L(a.$t((t=a.menu.meta)==null?void 0:t.title)),1)],2)}}}),S=C(P,[["__scopeId","data-v-b4f90672"]]),H={class:"top-menu-container flex align-center h-full"},O=v({__name:"index",setup(d){const c=f(()=>{const n=y("/","home").filter(e=>{var s;return((s=e.meta)==null?void 0:s.menu)&&(e.meta.permission?_(e.meta.permission,"OR"):!0)});return n.sort((e,s)=>(e.meta&&e.meta.order?e.meta.order:1)-(s.meta&&s.meta.order?s.meta.order:1)),n});return(n,e)=>{const s=A("hasPermission");return r(),p("div",H,[(r(!0),p(B,null,D(c.value,(a,o)=>{var t;return R((r(),h(S,{menu:a,key:o},null,8,["menu"])),[[s,(t=a.meta)==null?void 0:t.permission]])}),128))])}}}),U={class:"app-top-bar-container border-b flex-center"},V={class:"logo mt-4"},j={class:"flex-between w-full"},z={class:"ml-24 flex align-center w-120"},T=v({__name:"UserHeader",setup(d){const c=g(),n=I(),{user:e}=$(),s=f(()=>e.workspaceList.find(o=>o.id==e.workspaceId));function a(o){const{meta:{activeMenu:t}}=n;o.id!==e.workspaceId&&(e.setWorkspaceId(o.id||"default"),t.includes("application")&&n.path!="/application"?c.push("/application"):t.includes("knowledge")&&n.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(o,t)=>{const k=m("LogoFull"),W=m("el-divider"),x=m("WorkspaceDropdown");return r(),p("div",U,[l("div",V,[u(k)]),l("div",j,[l("div",z,[i(_)(i(w).IS_EE,"OR")?(r(),h(W,{key:0,class:"mr-8",direction:"vertical"})):b("",!0),i(_)(i(w).IS_EE,"OR")?(r(),h(x,{key:1,data:i(e).workspaceList,currentWorkspace:s.value,onChangeWorkspace:a},null,8,["data","currentWorkspace"])):b("",!0)]),u(O),u(M,{class:"mr-12"})]),u(F)])}}}),G=C(T,[["__scopeId","data-v-9b56546a"]]);export{G as U};
