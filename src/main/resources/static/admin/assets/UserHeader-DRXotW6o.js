import{aJ as v,aK as I,aP as W,aR as f,aL as d,aM as r,aV as i,aW as R,aN as l,aO as E,cP as C,ea as M,dI as _,d0 as P,cG as $,cH as b,cU as y,aT as h,aQ as A,aS as m,aX as u,aU as w,dJ as g}from"./admin-B8yAtLQA.js";import{T as B,A as D}from"./index.vue_vue_type_script_setup_true_lang-BKPzETGZ.js";const N={class:"title"},S=v({__name:"MenuItem",props:{menu:{}},setup(p){const c=I(),n=W(),e=p,s=f(()=>{const{name:o,path:a,meta:t}=n;return o==e.menu.name&&a==e.menu.path||(t==null?void 0:t.activeMenu)==e.menu.path});return(o,a)=>{var t;return r(),d("div",{class:R(["menu-item-container h-full",s.value?"active":""]),onClick:a[0]||(a[0]=k=>i(c).push({name:o.menu.name}))},[l("div",N,E(o.$t((t=o.menu.meta)==null?void 0:t.title)),1)],2)}}}),U=C(S,[["__scopeId","data-v-b4f90672"]]),O={class:"top-menu-container flex align-center h-full"},V=v({__name:"index",setup(p){const c=f(()=>{const n=M("/","home").filter(e=>{var s;return((s=e.meta)==null?void 0:s.menu)&&(e.meta.permission?_(e.meta.permission,"OR"):!0)});return n.sort((e,s)=>(e.meta&&e.meta.order?e.meta.order:1)-(s.meta&&s.meta.order?s.meta.order:1)),n});return(n,e)=>{const s=P("hasPermission");return r(),d("div",O,[(r(!0),d($,null,b(c.value,(o,a)=>{var t;return y((r(),h(U,{menu:o,key:a},null,8,["menu"])),[[s,(t=o.meta)==null?void 0:t.permission]])}),128))])}}}),F={class:"app-top-bar-container border-b flex-center"},H={class:"logo mt-4"},T={class:"flex-between w-full"},J={class:"ml-24 flex align-center w-120"},z=v({__name:"UserHeader",setup(p){const c=I(),n=W(),{user:e}=A(),s=f(()=>e.workspaceList.find(a=>a.id==e.workspaceId));function o(a){const{meta:{activeMenu:t}}=n;a.id!==e.workspaceId&&(e.setWorkspaceId(a.id||"default"),t.includes("application")&&n.path!="/application"?c.push("/application"):t.includes("knowledge")&&n.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(a,t)=>{const k=m("LogoFull"),L=m("el-divider"),x=m("WorkspaceDropdown");return r(),d("div",F,[l("div",H,[u(k)]),l("div",T,[l("div",J,[i(_)(i(g).IS_EE,"OR")?(r(),h(L,{key:0,class:"mr-8",direction:"vertical"})):w("",!0),i(_)(i(g).IS_EE,"OR")?(r(),h(x,{key:1,data:i(e).workspaceList,currentWorkspace:s.value,onChangeWorkspace:o},null,8,["data","currentWorkspace"])):w("",!0)]),u(V),u(B,{class:"mr-12"})]),u(D)])}}}),Q=C(z,[["__scopeId","data-v-9b56546a"]]);export{Q as U};
