import{_ as b}from"./ToolListContainer.vue_vue_type_script_setup_true_lang-rIRVw2Ht.js";import{aJ as B,aP as P,aQ as R,aR as g,cS as E,cE as p,cT as H,aS as i,aT as w,aM as m,cI as t,aX as a,aL as K,aV as _,aO as d,eO as U,cN as f,aN as F,d9 as D,cZ as k,da as G}from"./admin-B6VfIzX8.js";import"./icon_import-D9IDqZyN.js";import"./ToolFormDrawer.vue_vue_type_script_setup_true_lang-CovVckF5.js";import"./FieldFormDialog.vue_vue_type_script_setup_true_lang-DVVsm00I.js";import"./AuthorizedWorkspaceDialog.vue_vue_type_script_setup_true_lang-p6zT2Or8.js";import"./permission-api-1dUlRgrk.js";import"./workspace-BhW8Tcd4.js";import"./index.vue_vue_type_script_setup_true_lang-BESjxXrj.js";import"./constant-DNWdmgpg.js";import"./system-CkhRQyt6.js";import"./MoveToDialog-bWHOnkAu.js";const I={class:"p-12-16 pb-0 mt-12"},J={class:"p-8"},Q={key:0},re=B({__name:"index",setup(X){const h=P(),{folder:r,tool:v}=R(),S=g(()=>h.path.includes("shared")?"systemShare":h.path.includes("resource-management")?"systemManage":"workspace"),L=g(()=>E.tool[S.value]),N=p(!1),u=p(""),c=p([]);function T(e){const o={};r.asyncGetFolder(k.TOOL,o,N).then(n=>{var s;c.value=n.data,e&&r.setCurrentFolder(((s=n.data)==null?void 0:s[0])||{})})}function C(e){var o;e.id!==((o=r.currentFolder)==null?void 0:o.id)&&(r.setCurrentFolder(e),v.setToolList([]))}function O(){v.setToolType(u.value)}function y(){T()}return H(()=>{T(!0)}),(e,o)=>{const n=i("el-divider"),s=i("el-radio-button"),V=i("el-radio-group"),$=i("el-space");return m(),w(G,{showCollapse:"",class:"tool-manage"},{left:t(()=>{var l;return[F("h4",I,d(e.$t("views.tool.title")),1),F("div",J,[a(D,{source:_(k).TOOL,data:c.value,currentNodeKey:(l=_(r).currentFolder)==null?void 0:l.id,onHandleNodeClick:C,onRefreshTree:y,shareTitle:e.$t("views.shared.shared_tool"),showShared:L.value.is_share()},null,8,["source","data","currentNodeKey","shareTitle","showShared"])])]}),default:t(()=>[a(b,{onRefreshFolder:y},{header:t(()=>[a($,{wrap:""},{default:t(()=>{var l;return[((l=_(r).currentFolder)==null?void 0:l.id)==="share"?(m(),K("h2",Q,d(e.$t("views.shared.shared_tool")),1)):(m(),w(U,{key:1,folderList:c.value,onClick:C},null,8,["folderList"])),a(n,{direction:"vertical"}),a(V,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=M=>u.value=M),onChange:O,class:"app-radio-button-group"},{default:t(()=>[a(s,{value:""},{default:t(()=>[f(d(e.$t("views.tool.all")),1)]),_:1}),a(s,{value:"CUSTOM"},{default:t(()=>[f(d(e.$t("views.tool.title")),1)]),_:1}),a(s,{value:"MCP"},{default:t(()=>o[1]||(o[1]=[f("MCP",-1)])),_:1,__:[1]})]),_:1},8,["modelValue"])]}),_:1})]),_:1})]),_:1})}}});export{re as default};
