import{ay as wl,aP as hl,aA as kl,aQ as Z,b_ as Ie,aC as R,aX as Me,aB as c,bM as Sl,az as Il,b9 as Ml,aT as u,aI as s,aH as a,aJ as d,aE as w,aU as m,b8 as b,aG as o,aD as r,aW as M,b5 as $e,b6 as $l,a$ as ee,b7 as Te,aK as y,b4 as le,b3 as Tl,ba as te,co as $,cp as ae,a_ as Pe,bC as F,aY as oe,aZ as se,cq as Ve,cr as Pl,aF as i,cs as Vl,ct as k,c3 as Ce,cu as Cl,cn as Rl}from"./admin-C26zVPd1.js";import{_ as Dl,G as El,a as Al,b as Ol,c as ql,d as Nl,e as Ul,f as Ll}from"./GeneratePromptDialog-BEZHjMgY.js";const xl={class:"p-16-24 application-setting"},zl={class:"flex-between w-full mb-16"},Bl={class:"p-24 mb-16",style:{"padding-bottom":"0"}},Fl={class:"title-decoration-1"},Kl={class:"scrollbar-height-left"},Wl={class:"flex-between"},Gl={class:"flex-between"},jl={class:"flex-between"},Hl={class:"flex align-center"},Jl={class:"mb-12 lighter"},Ql={class:"mr-4"},Xl={key:0,class:"color-danger ml-4"},Yl={class:"flex align-center"},Zl={class:"lighter"},et={key:0,class:"ml-4"},lt={class:"mr-4"},tt={key:0,class:"w-full"},at={key:1},ot={class:"flex align-center",style:{width:"80%"}},st=["title"],nt={class:"mb-8 mt-12 flex-between"},it={class:"mr-4 lighter"},dt={key:0,class:"flex"},pt={key:0},ut={class:"flex align-center lighter cursor"},rt={key:0,class:"ml-4"},ct={class:"flex"},mt={key:0,class:"w-full mb-16"},vt={class:"flex align-center",style:{"line-height":"20px"}},ft=["src"],gt=["title"],_t={key:1},bt={class:"flex align-center lighter cursor"},yt={key:0,class:"ml-4"},wt={class:"flex"},ht={key:0,class:"w-full mb-16"},kt={class:"flex align-center",style:{"line-height":"20px"}},St=["src"],It=["title"],Mt={class:"flex-between"},$t={class:"mr-4"},Tt={class:"flex"},Pt={class:"flex-between"},Vt={class:"mr-4"},Ct={key:0,class:"color-danger"},Rt={class:"flex"},Dt={class:"flex-between"},Et={class:"mr-4"},At={key:0,class:"color-danger"},Ot={class:"flex"},qt={class:"w-full"},Nt={class:"flex-between w-full"},Ut={class:"title-decoration-1 mb-16"},Lt={class:"dialog-bg"},xt={class:"scrollbar-height"},zt=wl({__name:"ApplicationSetting",setup(Bt){const N=hl(),ne=Il(),{params:{id:h}}=N,{user:Re,folder:De}=kl(),v=Z(()=>N.path.includes("resource-management")?"systemManage":"workspace"),ie=Z(()=>Ie.application[v.value]),U=Z(()=>Ie.tool[v.value]),Ee=R("views.application.form.prompt.defaultPrompt",{data:"{data}",question:"{question}"}),Ae=R("views.application.dialog.defaultPrompt1",{question:"{question}"})+"<data></data>"+R("views.application.dialog.defaultPrompt2"),f=Me({prompt:!0,knowledge_setting:!0,MCP:!0,tool:!0,agent:!0}),K=c(),Oe=c(),W=c(),de=c(),G=c(),pe=c(),g=c(!1),qe=c(!1),e=c({name:"",desc:"",modelId:"",dialogueNumber:1,prologue:R("views.application.form.defaultPrologue"),knowledgeIds:[],knowledgeSetting:{topN:3,similarity:.5,maxParagraphCharNumber:5e3,searchMode:"embedding",noReferencesSetting:{status:"ai_questioning",value:"{question}"}},applicationIds:[],toolIds:[],toolOutputEnable:!1,modelSetting:{prompt:Ee,system:R("views.application.form.roleSettings.placeholder"),noReferencesPrompt:"{question}",reasoningContentEnable:!1},modelParamsSetting:{},problemOptimization:!1,problemOptimizationPrompt:Ae,sttModelId:"",ttsModelId:"",sttModelEnable:!1,ttsModelEnable:!1,ttsType:"BROWSER",type:"SIMPLE"}),ue=c();function Ne(){ue.value.open(e.value.toolIds)}function Ue(l){e.value.toolIds&&(e.value.toolIds=e.value.toolIds.filter(t=>t!==l))}const re=c(),Le=()=>{var l;e.value.modelId&&((l=re.value)==null||l.open(e.value.modelId,h))};function xe(l){e.value.toolIds=l.toolIds}c({});const ze=l=>{e.value.modelSetting.system=l},Be=Me({name:[{required:!0,message:R("views.application.form.appName.placeholder"),trigger:"blur"}]}),ce=c(null),D=c([]),me=c(null),ve=c(null);function Fe(l){e.value.prologue=l}function Ke(l){e.value.modelSetting.prompt=l}function We(l){e.value.modelSetting.system=l}function Ge(l){e.value.modelSetting={...e.value.modelSetting,...l}}const je=l=>{l&&l.validate().then(()=>M({type:"application",systemType:v.value}).putApplication(h,e.value,g).then(()=>M({type:"application",systemType:v.value}).publish(h,{},g)).then(()=>{$e(R("views.application.tip.publishSuccess"))}))},He=async l=>{l&&await l.validate((t,p)=>{t&&M({type:"application",systemType:v.value}).putApplication(h,e.value,g).then(()=>{$e(R("common.saveSuccess"))})})},Je=l=>{var t;e.value.modelId=l,l?(t=K.value)==null||t.reset_default(l,h):fe({})},Qe=()=>{var l;e.value.modelId&&((l=K.value)==null||l.open(e.value.modelId,h,e.value.modelParamsSetting))},Xe=()=>{var l;e.value.ttsModelId&&((l=W.value)==null||l.open(e.value.ttsModelId,h,e.value.ttsModelParamsSetting))},Ye=()=>{var l;(l=de.value)==null||l.open(e.value)};function j(l){e.value={...e.value,...l}}function fe(l){e.value.modelParamsSetting=l}function ge(l){e.value.ttsModelParamsSetting=l}function Ze(l){e.value.knowledgeIds&&e.value.knowledgeIds.splice(e.value.knowledgeIds.indexOf(l),1)}function el(l){D.value=l,e.value.knowledgeIds=l.map(t=>t.id)}function ll(){pe.value.open(e.value.knowledgeIds)}const _e=c();function tl(){_e.value.open(e.value.applicationIds)}function al(l){e.value.applicationIds=l.applicationIds,f.agent=!0}const L=c([]);function ol(){var l;M({type:"application",systemType:v.value}).getAllApplication({folderId:((l=De.currentFolder)==null?void 0:l.id)||Re.getWorkspaceId()}).then(t=>{L.value=t.data.filter(p=>p.isPublish)})}function sl(l){e.value.applicationIds&&(e.value.applicationIds=e.value.applicationIds.filter(t=>t!==l))}const E=c([]);function nl(){var t;const l=v.value==="systemManage"?{scope:"WORKSPACE",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{scope:"WORKSPACE"};M({type:"tool",systemType:v.value}).getAllToolList(l).then(p=>{E.value=[...p.data.shared_tools,...p.data.tools].filter(z=>z.isActive)})}function il(){M({type:"application",systemType:v.value}).getApplicationDetail(h,g).then(l=>{e.value=l.data,e.value.modelId=l.data.modelId,e.value.sttModelId=l.data.sttModelId,e.value.ttsModelId=l.data.ttsModelId,e.value.ttsType=l.data.ttsType,D.value=l.data.knowledgeList,e.value.modelSetting.noReferencesPrompt=l.data.modelSetting.noReferencesPrompt||"{question}",$l([Te.IS_EE,Te.IS_PE],"OR")&&M({type:"application",systemType:v.value}).getApplicationSetting(h).then(t=>{e.value={...e.value,...t.data}})})}function be(){var t;g.value=!0;const l=v.value==="systemManage"?{modelType:"LLM",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{modelType:"LLM"};M({type:"model",systemType:v.value}).getSelectModelList(l).then(p=>{ce.value=ee.groupBy(p==null?void 0:p.data,"provider"),g.value=!1}).catch(()=>{g.value=!1})}function dl(){var t;g.value=!0;const l=v.value==="systemManage"?{modelType:"STT",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{modelType:"STT"};M({type:"model",systemType:v.value}).getSelectModelList(l).then(p=>{me.value=ee.groupBy(p==null?void 0:p.data,"provider"),g.value=!1}).catch(()=>{g.value=!1})}function pl(){var t;g.value=!0;const l=v.value==="systemManage"?{modelType:"TTS",workspaceId:(t=e.value)==null?void 0:t.workspaceId}:{modelType:"TTS"};M({type:"model",systemType:v.value}).getSelectModelList(l).then(p=>{ve.value=ee.groupBy(p==null?void 0:p.data,"provider"),g.value=!1}).catch(()=>{g.value=!1})}const ul=l=>{var t;e.value.ttsModelId=l,l?(t=W.value)==null||t.reset_default(l,h):ge({})};function rl(){e.value.ttsModelEnable||(e.value.ttsModelId=void 0,e.value.ttsType="BROWSER")}function ye(){e.value.sttModelEnable||(e.value.sttModelId=void 0)}return Sl(()=>{N.path.includes("WORK_FLOW")&&(v.value=="workspace"?ne.push(`/application/workspace/${N.params.id}/workflow`):ne.push(`/application/resource-management/${N.params.id}/workflow`))}),Ml(()=>{be(),il(),dl(),pl(),nl(),ol()}),(l,t)=>{const p=r("el-button"),z=r("el-input"),I=r("el-form-item"),we=r("el-tooltip"),cl=r("el-input-number"),B=r("CaretRight"),T=r("el-icon"),ml=r("el-text"),H=r("Close"),J=r("el-card"),Q=r("el-checkbox"),he=r("el-avatar"),X=r("el-switch"),ke=r("el-radio"),vl=r("el-radio-group"),fl=r("Operation"),gl=r("el-form"),_l=r("el-scrollbar"),Se=r("el-col"),bl=r("el-row"),yl=Tl("loading");return i(),u("div",xl,[s("div",zl,[s("h3",null,d(l.$t("common.setting")),1),s("div",null,[ie.value.edit(b(h))?(i(),w(p,{key:0,type:"primary",onClick:t[0]||(t[0]=n=>He(G.value)),disabled:g.value},{default:o(()=>[y(d(l.$t("common.save")),1)]),_:1},8,["disabled"])):m("",!0),ie.value.edit(b(h))?(i(),w(p,{key:1,type:"primary",onClick:t[1]||(t[1]=n=>je(G.value)),disabled:g.value},{default:o(()=>[y(d(l.$t("views.application.operation.publish")),1)]),_:1},8,["disabled"])):m("",!0)])]),a(J,{style:{"--el-card-padding":"0"}},{default:o(()=>[le((i(),w(bl,null,{default:o(()=>[a(Se,{span:10},{default:o(()=>[s("div",Bl,[s("h4",Fl,d(l.$t("views.applicationOverview.appInfo.header")),1)]),s("div",Kl,[a(_l,null,{default:o(()=>[a(gl,{"hide-required-asterisk":"",ref_key:"applicationFormRef",ref:G,model:e.value,rules:Be,"label-position":"top","require-asterisk-position":"right",class:"p-24",style:{"padding-top":"0"}},{default:o(()=>[a(I,{prop:"name"},{label:o(()=>[s("div",Wl,[s("span",null,[y(d(l.$t("views.application.form.appName.label"))+" ",1),t[25]||(t[25]=s("span",{class:"color-danger"},"*",-1))])])]),default:o(()=>[a(z,{modelValue:e.value.name,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.name=n),maxlength:"64",placeholder:l.$t("views.application.form.appName.placeholder"),"show-word-limit":"",onBlur:t[3]||(t[3]=n=>{var P;return e.value.name=(P=e.value.name)==null?void 0:P.trim()})},null,8,["modelValue","placeholder"])]),_:1}),a(I,{label:l.$t("views.application.form.appDescription.label")},{default:o(()=>[a(z,{modelValue:e.value.desc,"onUpdate:modelValue":t[4]||(t[4]=n=>e.value.desc=n),type:"textarea",placeholder:l.$t("views.application.form.appDescription.placeholder"),rows:3,maxlength:"256","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(I,{label:l.$t("views.application.form.aiModel.label")},{label:o(()=>[s("div",Gl,[s("span",null,d(l.$t("views.application.form.aiModel.label")),1),a(p,{type:"primary",link:"",onClick:Qe,disabled:!e.value.modelId},{default:o(()=>[a($,{iconName:"app-setting",class:"mr-4"}),y(" "+d(l.$t("common.paramSetting")),1)]),_:1},8,["disabled"])])]),default:o(()=>[a(te,{modelValue:e.value.modelId,"onUpdate:modelValue":t[5]||(t[5]=n=>e.value.modelId=n),placeholder:l.$t("views.application.form.aiModel.placeholder"),options:ce.value,onChange:Je,onSubmitModel:be,showFooter:!1,"model-type":"LLM"},null,8,["modelValue","placeholder","options"])]),_:1},8,["label"]),a(I,null,{label:o(()=>[s("div",jl,[s("div",Hl,[s("span",null,d(l.$t("views.application.form.roleSettings.label")),1),a(we,{effect:"dark",content:l.$t("views.application.form.roleSettings.tooltip"),placement:"right"},{default:o(()=>[a($,{iconName:"app-warning",class:"app-warning-icon ml-4"})]),_:1},8,["content"])]),a(p,{type:"primary",link:"",onClick:Le,disabled:!e.value.modelId},{default:o(()=>[a($,{iconName:"app-generate-star",class:"mr-4"}),y(" "+d(l.$t("views.application.generateDialog.label")),1)]),_:1},8,["disabled"])])]),default:o(()=>[a(ae,{title:l.$t("views.application.form.roleSettings.label"),modelValue:e.value.modelSetting.system,"onUpdate:modelValue":t[6]||(t[6]=n=>e.value.modelSetting.system=n),style:{height:"120px"},onSubmitDialog:We,placeholder:l.$t("views.application.form.roleSettings.placeholder",{data:"{data}",question:"{question}"})},null,8,["title","modelValue","placeholder"])]),_:1}),a(I,{label:l.$t("views.application.form.historyRecord.label"),onClick:t[8]||(t[8]=Pe(()=>{},["prevent"]))},{default:o(()=>[a(cl,{modelValue:e.value.dialogueNumber,"onUpdate:modelValue":t[7]||(t[7]=n=>e.value.dialogueNumber=n),min:0,"value-on-clear":0,"controls-position":"right",class:"w-full",step:1,"step-strictly":!0},null,8,["modelValue"])]),_:1},8,["label"]),s("p",Jl,d(l.$t("views.knowledge.title")),1),a(J,{shadow:"never",class:"card-never",style:{"--el-card-padding":"12px"}},{default:o(()=>{var n,P,x;return[a(I,{label:l.$t("views.application.form.prompt.label"),prop:"modelSetting.prompt",rules:{required:e.value.modelId,message:l.$t("views.application.form.prompt.requiredMessage"),trigger:"blur"}},{label:o(()=>[s("div",{class:"flex align-center cursor",onClick:t[9]||(t[9]=S=>f.prompt=!f.prompt)},[a(T,{class:F(["mr-8 arrow-icon",f.prompt?"rotate-90":""])},{default:o(()=>[a(B)]),_:1},8,["class"]),s("span",Ql,d(l.$t("views.application.form.prompt.label"))+" "+d(l.$t("views.application.form.prompt.references")),1),a(we,{effect:"dark",content:l.$t("views.application.form.prompt.tooltip"),"popper-class":"max-w-350",placement:"right"},{default:o(()=>[a($,{iconName:"app-warning",class:"app-warning-icon"})]),_:1},8,["content"]),e.value.modelId?(i(),u("span",Xl,"*")):m("",!0)])]),default:o(()=>[f.prompt?(i(),w(ae,{key:0,title:l.$t("views.application.form.prompt.label")+l.$t("views.application.form.prompt.references"),modelValue:e.value.modelSetting.prompt,"onUpdate:modelValue":t[10]||(t[10]=S=>e.value.modelSetting.prompt=S),style:{height:"150px"},onSubmitDialog:Ke,placeholder:l.$t("views.application.form.prompt.placeholder",{data:"{data}",question:"{question}"})},null,8,["title","modelValue","placeholder"])):m("",!0)]),_:1},8,["label","rules"]),s("div",{class:"flex-between mb-12 cursor",onClick:t[11]||(t[11]=S=>f.knowledge_setting=!f.knowledge_setting)},[s("div",Yl,[a(T,{class:F(["mr-8 arrow-icon",f.knowledge_setting?"rotate-90":""])},{default:o(()=>[a(B)]),_:1},8,["class"]),s("span",Zl,d(l.$t("views.application.form.relatedKnowledge.label")),1),(n=e.value.knowledgeIds)!=null&&n.length?(i(),u("span",et,"("+d((P=e.value.knowledgeIds)==null?void 0:P.length)+")",1)):m("",!0)]),s("div",null,[s("span",lt,[a(p,{type:"primary",link:"",onClick:Ye},{default:o(()=>[a($,{iconName:"app-setting"})]),_:1})]),a(p,{type:"primary",link:"",onClick:ll},{default:o(()=>[a($,{iconName:"app-add-outlined"})]),_:1})])]),f.knowledge_setting?(i(),u("div",tt,[((x=e.value.knowledgeIds)==null?void 0:x.length)===0?(i(),w(ml,{key:0,type:"info"},{default:o(()=>[y(d(l.$t("views.application.form.relatedKnowledge.placeholder")),1)]),_:1})):(i(),u("div",at,[(i(!0),u(oe,null,se(e.value.knowledgeIds,(S,_)=>{var A,V,C;return i(),u("div",{key:_,class:"flex-between border border-r-6 white-bg mb-4",style:{padding:"5px 8px"}},[s("div",ot,[a(Vl,{type:(A=b(k)(D.value,S,"id"))==null?void 0:A.type,class:"mr-8",size:20},null,8,["type"]),s("span",{class:"ellipsis cursor",title:(V=b(k)(D.value,S,"id"))==null?void 0:V.name},d((C=b(k)(D.value,S,"id"))==null?void 0:C.name),9,st)]),a(p,{text:"",onClick:O=>Ze(S)},{default:o(()=>[a(T,null,{default:o(()=>[a(H)]),_:1})]),_:2},1032,["onClick"])])}),128))]))])):m("",!0)]}),_:1}),s("div",nt,[s("span",it,d(l.$t("views.application.skill")),1),U.value.read()?(i(),u("div",dt,[a(Q,{modelValue:e.value.toolOutputEnable,"onUpdate:modelValue":t[12]||(t[12]=n=>e.value.toolOutputEnable=n),label:l.$t("views.application.form.toolOutputEnable")},null,8,["modelValue","label"])])):m("",!0)]),a(J,{shadow:"never",class:"card-never",style:{"--el-card-padding":"12px"}},{default:o(()=>{var n,P,x,S;return[U.value.read()?(i(),u("div",pt,[s("div",{class:"flex-between mb-8",onClick:t[13]||(t[13]=_=>f.tool=!f.tool)},[s("div",ut,[a(T,{class:F(["mr-8 arrow-icon",f.tool?"rotate-90":""])},{default:o(()=>[a(B)]),_:1},8,["class"]),y(" "+d(l.$t("views.tool.title"))+" ",1),(n=e.value.toolIds)!=null&&n.length?(i(),u("span",rt,"("+d((P=e.value.toolIds)==null?void 0:P.length)+")",1)):m("",!0)]),s("div",ct,[a(p,{type:"primary",link:"",onClick:Ne,onRefreshForm:j},{default:o(()=>[a($,{iconName:"app-add-outlined",class:"mr-4"})]),_:1})])]),e.value.toolIds&&e.value.toolIds.length>0&&U.value.read()&&f.tool?(i(),u("div",mt,[(i(!0),u(oe,null,se(e.value.toolIds,(_,A)=>{var V,C,O,q;return i(),u("div",{key:A,class:"flex-between border border-r-6 white-bg mb-4",style:{padding:"5px 8px"}},[s("div",vt,[(V=b(k)(E.value,_,"id"))!=null&&V.icon?(i(),w(he,{key:0,shape:"square",size:20,style:{background:"none"},class:"mr-8"},{default:o(()=>{var Y;return[s("img",{src:b(Ce)((Y=b(k)(E.value,_,"id"))==null?void 0:Y.icon),alt:""},null,8,ft)]}),_:2},1024)):(i(),w(Cl,{key:1,class:"mr-8",size:20,type:(C=b(k)(E.value,_,"id"))==null?void 0:C.toolType},null,8,["type"])),s("div",{class:"ellipsis-1",title:(O=b(k)(E.value,_,"id"))==null?void 0:O.name},d((q=b(k)(E.value,_,"id"))==null?void 0:q.name),9,gt)]),a(p,{text:"",onClick:Y=>Ue(_)},{default:o(()=>[a(T,null,{default:o(()=>[a(H)]),_:1})]),_:2},1032,["onClick"])])}),128))])):m("",!0)])):m("",!0),U.value.read()?(i(),u("div",_t,[s("div",{class:"flex-between mb-8",onClick:t[14]||(t[14]=_=>f.agent=!f.agent)},[s("div",bt,[a(T,{class:F(["mr-8 arrow-icon",f.agent?"rotate-90":""])},{default:o(()=>[a(B)]),_:1},8,["class"]),y(" "+d(l.$t("views.application.title"))+" ",1),(x=e.value.applicationIds)!=null&&x.length?(i(),u("span",yt," ("+d((S=e.value.applicationIds)==null?void 0:S.length)+")",1)):m("",!0)]),s("div",wt,[a(p,{type:"primary",link:"",onClick:tl,onRefreshForm:j},{default:o(()=>[a($,{iconName:"app-add-outlined",class:"mr-4"})]),_:1})])]),e.value.applicationIds&&e.value.applicationIds.length>0&&U.value.read()&&f.agent?(i(),u("div",ht,[(i(!0),u(oe,null,se(e.value.applicationIds,(_,A)=>{var V,C,O;return i(),u("div",{key:A,class:"flex-between border border-r-6 white-bg mb-4",style:{padding:"5px 8px"}},[s("div",kt,[(V=b(k)(L.value,_,"id"))!=null&&V.icon?(i(),w(he,{key:0,shape:"square",size:20,style:{background:"none"},class:"mr-8"},{default:o(()=>{var q;return[s("img",{src:b(Ce)((q=b(k)(L.value,_,"id"))==null?void 0:q.icon),alt:""},null,8,St)]}),_:2},1024)):(i(),w($,{key:1,iconName:"app-lock",class:"mr-8",size:20})),s("div",{class:"ellipsis-1",title:(C=b(k)(L.value,_,"id"))==null?void 0:C.name},d((O=b(k)(L.value,_,"id"))==null?void 0:O.name),9,It)]),a(p,{text:"",onClick:q=>sl(_)},{default:o(()=>[a(T,null,{default:o(()=>[a(H)]),_:1})]),_:2},1032,["onClick"])])}),128))])):m("",!0)])):m("",!0)]}),_:1}),a(I,{label:l.$t("views.application.form.prologue")},{default:o(()=>[a(ae,{title:l.$t("views.application.form.prologue"),modelValue:e.value.prologue,"onUpdate:modelValue":t[15]||(t[15]=n=>e.value.prologue=n),style:{height:"150px"},onSubmitDialog:Fe},null,8,["title","modelValue"])]),_:1},8,["label"]),a(I,{onClick:t[17]||(t[17]=Pe(()=>{},["prevent"]))},{label:o(()=>[s("div",Mt,[s("span",$t,d(l.$t("views.application.form.reasoningContent.label")),1),s("div",Tt,[a(X,{class:"ml-8",size:"small",modelValue:e.value.modelSetting.reasoningContentEnable,"onUpdate:modelValue":t[16]||(t[16]=n=>e.value.modelSetting.reasoningContentEnable=n),onChange:ye},null,8,["modelValue"])])])]),_:1}),a(I,{prop:"sttModelId",rules:{required:e.value.sttModelEnable,message:l.$t("views.application.form.voiceInput.requiredMessage"),trigger:"change"}},{label:o(()=>[s("div",Pt,[s("span",Vt,[y(d(l.$t("views.application.form.voiceInput.label"))+" ",1),e.value.sttModelEnable?(i(),u("span",Ct,"*")):m("",!0)]),s("div",Rt,[e.value.sttModelEnable?(i(),w(Q,{key:0,modelValue:e.value.sttAutoSend,"onUpdate:modelValue":t[18]||(t[18]=n=>e.value.sttAutoSend=n)},{default:o(()=>[y(d(l.$t("views.application.form.voiceInput.autoSend")),1)]),_:1},8,["modelValue"])):m("",!0),a(X,{class:"ml-8",size:"small",modelValue:e.value.sttModelEnable,"onUpdate:modelValue":t[19]||(t[19]=n=>e.value.sttModelEnable=n),onChange:ye},null,8,["modelValue"])])])]),default:o(()=>[le(a(te,{modelValue:e.value.sttModelId,"onUpdate:modelValue":t[20]||(t[20]=n=>e.value.sttModelId=n),placeholder:l.$t("views.application.form.voiceInput.placeholder"),options:me.value,"model-type":"STT"},null,8,["modelValue","placeholder","options"]),[[Ve,e.value.sttModelEnable]])]),_:1},8,["rules"]),a(I,{prop:"ttsModelId",rules:{required:e.value.ttsType==="TTS"&&e.value.ttsModelEnable,message:l.$t("views.application.form.voicePlay.requiredMessage"),trigger:"change"}},{label:o(()=>[s("div",Dt,[s("span",Et,[y(d(l.$t("views.application.form.voicePlay.label"))+" ",1),e.value.ttsType==="TTS"&&e.value.ttsModelEnable?(i(),u("span",At,"*")):m("",!0)]),s("div",Ot,[e.value.ttsModelEnable?(i(),w(Q,{key:0,modelValue:e.value.ttsAutoplay,"onUpdate:modelValue":t[21]||(t[21]=n=>e.value.ttsAutoplay=n)},{default:o(()=>[y(d(l.$t("views.application.form.voicePlay.autoPlay")),1)]),_:1},8,["modelValue"])):m("",!0),a(X,{class:"ml-8",size:"small",modelValue:e.value.ttsModelEnable,"onUpdate:modelValue":t[22]||(t[22]=n=>e.value.ttsModelEnable=n),onChange:rl},null,8,["modelValue"])])])]),default:o(()=>[s("div",qt,[le(a(vl,{modelValue:e.value.ttsType,"onUpdate:modelValue":t[23]||(t[23]=n=>e.value.ttsType=n),class:"mb-8"},{default:o(()=>[a(ke,{value:"BROWSER"},{default:o(()=>[y(d(l.$t("views.application.form.voicePlay.browser")),1)]),_:1}),a(ke,{value:"TTS"},{default:o(()=>[y(d(l.$t("views.application.form.voicePlay.tts")),1)]),_:1})]),_:1},8,["modelValue"]),[[Ve,e.value.ttsModelEnable]])]),s("div",Nt,[e.value.ttsType==="TTS"&&e.value.ttsModelEnable?(i(),w(te,{key:0,modelValue:e.value.ttsModelId,"onUpdate:modelValue":t[24]||(t[24]=n=>e.value.ttsModelId=n),placeholder:l.$t("views.application.form.voicePlay.placeholder"),options:ve.value,onChange:ul,"model-type":"TTS"},null,8,["modelValue","placeholder","options"])):m("",!0),e.value.ttsType==="TTS"?(i(),w(p,{key:1,onClick:Xe,disabled:!e.value.ttsModelId,class:"ml-8"},{default:o(()=>[a(T,null,{default:o(()=>[a(fl)]),_:1})]),_:1},8,["disabled"])):m("",!0)])]),_:1},8,["rules"])]),_:1},8,["model","rules"])]),_:1})])]),_:1}),a(Se,{span:14,class:"p-24 border-l"},{default:o(()=>[s("h4",Ut,d(l.$t("views.application.appTest")),1),s("div",Lt,[s("div",xt,[a(Pl,{applicationDetails:e.value,type:"debug-ai-chat"},null,8,["applicationDetails"])])])]),_:1})]),_:1})),[[yl,g.value]])]),_:1}),a(Dl,{ref_key:"AIModeParamSettingDialogRef",ref:K,onRefresh:fe},null,512),a(El,{onReplace:ze,ref_key:"GeneratePromptDialogRef",ref:re},null,512),a(Al,{ref_key:"TTSModeParamSettingDialogRef",ref:W,onRefresh:ge},null,512),a(Ol,{ref_key:"ParamSettingDialogRef",ref:de,onRefresh:j},null,512),a(ql,{ref_key:"AddKnowledgeDialogRef",ref:pe,onAddData:el,data:D.value,loading:qe.value},null,8,["data","loading"]),a(Nl,{ref_key:"ReasoningParamSettingDialogRef",ref:Oe,onRefresh:Ge},null,512),a(Ul,{ref_key:"toolDialogRef",ref:ue,onRefresh:xe},null,512),a(Ll,{ref_key:"applicationDialogRef",ref:_e,onRefresh:al},null,512)])}}}),Wt=Rl(zt,[["__scopeId","data-v-b018535c"]]);export{Wt as default};
