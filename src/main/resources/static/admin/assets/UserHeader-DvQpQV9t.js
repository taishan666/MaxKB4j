import{ay as v,az as b,aP as I,aQ as f,aT as p,aF as r,b8 as i,bC as E,aI as l,aJ as L,co as C,dB as y,b6 as _,b3 as A,aY as B,aZ as D,b4 as R,aE as h,aA as $,aD as m,aH as u,aU as w,b7 as g}from"./admin-BpafW2aq.js";import{T as M,A as P}from"./index.vue_vue_type_script_setup_true_lang-B22kEMt9.js";const F={class:"title"},N=v({__name:"MenuItem",props:{menu:{}},setup(d){const c=b(),n=I(),e=d,s=f(()=>{const{name:o,path:a,meta:t}=n;return o==e.menu.name&&a==e.menu.path||(t==null?void 0:t.activeMenu)==e.menu.path});return(o,a)=>{var t;return r(),p("div",{class:E(["menu-item-container h-full",s.value?"active":""]),onClick:a[0]||(a[0]=k=>i(c).push({name:o.menu.name}))},[l("div",F,L(o.$t((t=o.menu.meta)==null?void 0:t.title)),1)],2)}}}),S=C(N,[["__scopeId","data-v-b4f90672"]]),U={class:"top-menu-container flex align-center h-full"},H=v({__name:"index",setup(d){const c=f(()=>{const n=y("/","home").filter(e=>{var s;return((s=e.meta)==null?void 0:s.menu)&&(e.meta.permission?_(e.meta.permission,"OR"):!0)});return n.sort((e,s)=>(e.meta&&e.meta.order?e.meta.order:1)-(s.meta&&s.meta.order?s.meta.order:1)),n});return(n,e)=>{const s=A("hasPermission");return r(),p("div",U,[(r(!0),p(B,null,D(c.value,(o,a)=>{var t;return R((r(),h(S,{menu:o,key:a},null,8,["menu"])),[[s,(t=o.meta)==null?void 0:t.permission]])}),128))])}}}),O={class:"app-top-bar-container border-b flex-center"},T={class:"logo mt-4"},V={class:"flex-between w-full"},z={class:"ml-24 flex align-center w-120"},J=v({__name:"UserHeader",setup(d){const c=b(),n=I(),{user:e}=$(),s=f(()=>e.workspaceList.find(a=>a.id==e.workspaceId));function o(a){const{meta:{activeMenu:t}}=n;a.id!==e.workspaceId&&(e.setWorkspaceId(a.id||"default"),t.includes("application")&&n.path!="/application"?c.push("/application"):t.includes("knowledge")&&n.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(a,t)=>{const k=m("LogoFull"),W=m("el-divider"),x=m("WorkspaceDropdown");return r(),p("div",O,[l("div",T,[u(k)]),l("div",V,[l("div",z,[i(_)(i(g).IS_EE,"OR")?(r(),h(W,{key:0,class:"mr-8",direction:"vertical"})):w("",!0),i(_)(i(g).IS_EE,"OR")?(r(),h(x,{key:1,data:i(e).workspaceList,currentWorkspace:s.value,onChangeWorkspace:o},null,8,["data","currentWorkspace"])):w("",!0)]),u(H),u(M,{class:"mr-12"})]),u(P)])}}}),Z=C(J,[["__scopeId","data-v-9b56546a"]]);export{Z as U};
