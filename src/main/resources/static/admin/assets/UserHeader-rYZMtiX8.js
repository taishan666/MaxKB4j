import{ay as v,az as b,aZ as I,a_ as f,aR as p,aF as r,b6 as i,ci as E,aI as l,aJ as L,co as C,dB as R,b4 as _,a$ as $,aS as y,aT as A,b0 as B,aE as h,aA as D,aD as m,aH as u,b1 as w,b5 as g}from"./admin-_EJ4kEIX.js";import{T as M,A as S}from"./index.vue_vue_type_script_setup_true_lang-Bsms7Rfy.js";const F={class:"title"},N=v({__name:"MenuItem",props:{menu:{}},setup(d){const c=b(),n=I(),e=d,s=f(()=>{const{name:o,path:a,meta:t}=n;return o==e.menu.name&&a==e.menu.path||(t==null?void 0:t.activeMenu)==e.menu.path});return(o,a)=>{var t;return r(),p("div",{class:E(["menu-item-container h-full",s.value?"active":""]),onClick:a[0]||(a[0]=k=>i(c).push({name:o.menu.name}))},[l("div",F,L(o.$t((t=o.menu.meta)==null?void 0:t.title)),1)],2)}}}),P=C(N,[["__scopeId","data-v-b4f90672"]]),H={class:"top-menu-container flex align-center h-full"},O=v({__name:"index",setup(d){const c=f(()=>{const n=R("/","home").filter(e=>{var s;return((s=e.meta)==null?void 0:s.menu)&&(e.meta.permission?_(e.meta.permission,"OR"):!0)});return n.sort((e,s)=>(e.meta&&e.meta.order?e.meta.order:1)-(s.meta&&s.meta.order?s.meta.order:1)),n});return(n,e)=>{const s=$("hasPermission");return r(),p("div",H,[(r(!0),p(y,null,A(c.value,(o,a)=>{var t;return B((r(),h(P,{menu:o,key:a},null,8,["menu"])),[[s,(t=o.meta)==null?void 0:t.permission]])}),128))])}}}),T={class:"app-top-bar-container border-b flex-center"},U={class:"logo mt-4"},V={class:"flex-between w-full"},z={class:"ml-24 flex align-center w-120"},J=v({__name:"UserHeader",setup(d){const c=b(),n=I(),{user:e}=D(),s=f(()=>e.workspaceList.find(a=>a.id==e.workspaceId));function o(a){const{meta:{activeMenu:t}}=n;a.id!==e.workspaceId&&(e.setWorkspaceId(a.id||"default"),t.includes("application")&&n.path!="/application"?c.push("/application"):t.includes("knowledge")&&n.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(a,t)=>{const k=m("LogoFull"),W=m("el-divider"),x=m("WorkspaceDropdown");return r(),p("div",T,[l("div",U,[u(k)]),l("div",V,[l("div",z,[i(_)(i(g).IS_EE,"OR")?(r(),h(W,{key:0,class:"mr-8",direction:"vertical"})):w("",!0),i(_)(i(g).IS_EE,"OR")?(r(),h(x,{key:1,data:i(e).workspaceList,currentWorkspace:s.value,onChangeWorkspace:o},null,8,["data","currentWorkspace"])):w("",!0)]),u(O),u(M,{class:"mr-12"})]),u(S)])}}}),q=C(J,[["__scopeId","data-v-9b56546a"]]);export{q as U};
