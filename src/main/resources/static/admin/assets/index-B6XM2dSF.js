import{_ as M}from"./ToolListContainer.vue_vue_type_script_setup_true_lang-Dhpn9TIB.js";import{ay as O,aP as P,aA as E,aQ as g,b_ as H,aB as p,b9 as K,aD as i,aE as w,aF as m,aG as t,aH as a,aT as R,b8 as _,aJ as d,b$ as D,aK as f,aI as k,cf as G,c1 as b,c0 as U}from"./admin-S7vQ7JSu.js";import"./store-C58tJ2Zs.js";import"./ToolFormDrawer.vue_vue_type_script_setup_true_lang-Cos5dXYp.js";import"./FieldFormDialog.vue_vue_type_script_setup_true_lang-BNMfQqbA.js";import"./AuthorizedWorkspaceDialog.vue_vue_type_script_setup_true_lang-C9v-LeMW.js";import"./permission-api-BHmn_wbH.js";import"./workspace-BCi1fymI.js";import"./index.vue_vue_type_script_setup_true_lang-BcgSvmYI.js";import"./constant-D-jcHjDk.js";import"./system-CkhRQyt6.js";import"./MoveToDialog-BIpWiTyY.js";const A={class:"p-12-16 pb-0 mt-12"},I={class:"p-8"},J={key:0},re=O({__name:"index",setup(Q){const h=P(),{folder:r,tool:v}=E(),C=g(()=>h.path.includes("shared")?"systemShare":h.path.includes("resource-management")?"systemManage":"workspace"),$=g(()=>H.tool[C.value]),L=p(!1),u=p(""),c=p([]);function T(e){const o={};r.asyncGetFolder(b.TOOL,o,C.value,L).then(n=>{var s;c.value=n.data,e&&r.setCurrentFolder(((s=n.data)==null?void 0:s[0])||{})})}function y(e){var o;e.id!==((o=r.currentFolder)==null?void 0:o.id)&&(r.setCurrentFolder(e),v.setToolList([]))}function S(){v.setToolType(u.value)}function F(){T()}return K(()=>{var e;T(!((e=r.currentFolder)!=null&&e.id))}),(e,o)=>{const n=i("el-divider"),s=i("el-radio-button"),N=i("el-radio-group"),V=i("el-space");return m(),w(U,{showCollapse:"",class:"tool-manage"},{left:t(()=>{var l;return[k("h4",A,d(e.$t("views.tool.title")),1),k("div",I,[a(G,{source:_(b).TOOL,data:c.value,currentNodeKey:(l=_(r).currentFolder)==null?void 0:l.id,onHandleNodeClick:y,onRefreshTree:F,shareTitle:e.$t("views.shared.shared_tool"),showShared:$.value.is_share()},null,8,["source","data","currentNodeKey","shareTitle","showShared"])])]}),default:t(()=>[a(M,{onRefreshFolder:F},{header:t(()=>[a(V,{wrap:""},{default:t(()=>{var l;return[((l=_(r).currentFolder)==null?void 0:l.id)==="share"?(m(),R("h2",J,d(e.$t("views.shared.shared_tool")),1)):(m(),w(D,{key:1,folderList:c.value,onClick:y},null,8,["folderList"])),a(n,{direction:"vertical"}),a(N,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=B=>u.value=B),onChange:S,class:"app-radio-button-group"},{default:t(()=>[a(s,{value:""},{default:t(()=>[f(d(e.$t("views.tool.all")),1)]),_:1}),a(s,{value:"CUSTOM"},{default:t(()=>[f(d(e.$t("views.tool.title")),1)]),_:1}),a(s,{value:"MCP"},{default:t(()=>o[1]||(o[1]=[f("MCP",-1)])),_:1,__:[1]})]),_:1},8,["modelValue"])]}),_:1})]),_:1})]),_:1})}}});export{re as default};
