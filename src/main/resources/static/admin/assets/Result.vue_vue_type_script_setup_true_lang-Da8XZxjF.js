import{ay as v,aP as k,aQ as c,aB as g,aR as w,aS as S,aD as _,aT as p,aF as s,aI as E,aU as o,aH as R,aJ as T,aE as d,aV as C,aW as D}from"./admin-BcWypnGv.js";const A={class:"title-decoration-1 mb-16 mt-4"},b={key:0,class:"mb-16"},U=v({__name:"Result",props:{id:{},knowledgeId:{},isRecord:{type:Boolean}},setup(f){const m=k(),n=f,y=c(()=>a.value?Object.values(a.value.details):[]),l=c(()=>a.value?a.value.state:"PADDING"),h=c(()=>m.path.includes("shared")?"systemShare":m.path.includes("resource-management")?"systemManage":"workspace"),a=g();let e=null;const i=()=>{e!=null&&D({type:"knowledge",systemType:h.value}).getWorkflowAction(n.knowledgeId,n.id).then(t=>{a.value=t.data}).finally(()=>{["SUCCESS","FAILURE","REVOKED"].includes(l.value)?r():e=setTimeout(i,2e3)})},r=()=>{e&&(clearTimeout(e),e=null)};return e=setTimeout(i,0),w(()=>n.id,()=>{r(),e=setTimeout(i,0)}),S(()=>{r()}),(t,B)=>{const u=_("el-alert");return s(),p("div",null,[E("h4",A,T(t.$t("chat.executionDetails.title")),1),t.isRecord?o("",!0):(s(),p("div",b,[l.value=="SUCCESS"?(s(),d(u,{key:0,title:t.$t("common.status.success"),type:"success","show-icon":"",closable:!1},null,8,["title"])):o("",!0),l.value=="STARTED"?(s(),d(u,{key:1,title:t.$t("common.status.padding"),type:"info","show-icon":"",closable:!1},null,8,["title"])):o("",!0),l.value=="FAILURE"?(s(),d(u,{key:2,title:t.$t("common.status.fail"),type:"error","show-icon":"",closable:!1},null,8,["title"])):o("",!0)])),R(C,{detail:y.value,"app-type":"WORK_FLOW"},null,8,["detail"])])}}});export{U as _};
