import{ay as Oe,aP as Ie,aQ as G,b_ as Me,aB as u,b9 as eo,aD as d,b3 as we,aT as ae,aF as i,aI as w,aJ as c,aH as o,aG as t,b4 as ie,aE as k,dt as oo,aK as v,bC as Re,aU as R,b8 as A,c6 as Se,a_ as Ce,cq as to,aW as ne,b5 as Ne,aC as h,c9 as B,cn as ao,az as He,aM as no,cN as so,bD as lo,bK as Ae,bG as ve,cx as ro,aN as _e,aA as io,bM as uo,d7 as co,cM as po,co as q,c2 as fo,c3 as mo,du as _o,c8 as xe,b6 as P,bN as F,bP as b,bO as vo}from"./admin-BFI6zo2F.js";import{_ as wo,a as ko,K as Be}from"./index.vue_vue_type_style_index_0_lang-BohRg1JE.js";import{_ as go}from"./ExecutionRecordDrawer.vue_vue_type_script_setup_true_lang-p7lnWxRR.js";import{_ as ho,a as yo}from"./KnowledgeBase.vue_vue_type_script_setup_true_lang-VNARwi5B.js";import{_ as Do}from"./Result.vue_vue_type_script_setup_true_lang-CxTtoWdc.js";import{k as Eo}from"./data-B_7e0Ocp.js";import"./GeneratePromptDialog-B2HM2V_Q.js";import"./reduce-DaXQymAQ.js";import"./uniqBy-cNRdrMDC.js";import"./min-Cmj0TukO.js";import"./zipObject-Af_h14BB.js";import"./vue-draggable-plus-Bj4Sp9uV.js";import"./FieldFormDialog.vue_vue_type_script_setup_true_lang-BXHtrHyL.js";import"./defineProperty-DbXIQDXj.js";import"./typeof-QjJsDpFa.js";import"./array-method-is-strict-BCQ3UAYD.js";const $o={class:"workflow-publish-history border-l white-bg"},bo={class:"border-b p-16-24"},Ro={class:"list-height pt-0"},So={class:"p-8 pt-0"},Co={class:"flex-between"},No={style:{"max-width":"80%"}},Ao={class:"text-center"},Oo=Oe({__name:"PublishHistory",emits:["click","refreshVersion"],setup(Te,{emit:ue}){const V=Ie(),{params:{id:C,folderId:n}}=V,y=G(()=>V.path.includes("shared")?"systemShare":V.path.includes("resource-management")?"systemManage":"workspace"),U=G(()=>Me.knowledge[y.value]),H=ue,J=u(!1),O=u([]),x=u("");function T(r){x.value=r.id}function D(r){H("click",r)}function m(r){H("refreshVersion",r)}function l(r){r.writeStatus=!0}function $(r){r.writeStatus=!1}const z=G(()=>n==="share");function Q(r,E){if(r){const I={name:r};ne({type:"knowledge",isShared:z.value,systemType:y.value}).updateKnowledgeVersion(C,E.id,I,J).then(()=>{Ne(h("common.modifySuccess")),E.writeStatus=!1,L()})}else B(h("workflow.tip.nameMessage"))}function L(){ne({type:"knowledge",isShared:z.value,systemType:y.value}).listKnowledgeVersion(C,J).then(r=>{O.value=r.data})}return eo(()=>{L()}),(r,E)=>{const I=d("ReadWrite"),Z=d("el-tag"),ee=d("UserFilled"),se=d("el-icon"),le=d("el-avatar"),f=d("el-text"),N=d("AppIcon"),K=d("el-button"),j=d("el-dropdown-item"),ce=d("RefreshLeft"),X=d("el-dropdown-menu"),ke=d("el-dropdown"),ge=d("el-scrollbar"),he=we("loading");return i(),ae("div",$o,[w("h4",bo,c(r.$t("workflow.setting.releaseHistory")),1),w("div",Ro,[o(ge,null,{default:t(()=>[w("div",So,[ie((i(),k(oo,{data:O.value,class:"mt-8",onClick:D,onMouseenter:T,onMouseleave:E[1]||(E[1]=W=>x.value="")},{default:t(({row:W,index:de})=>[w("div",Co,[w("div",No,[w("h5",{class:Re([de===0?"primary":"","flex align-center"])},[o(I,{onChange:re=>Q(re,W),data:W.name||A(Se)(W.updateTime),trigger:"manual",write:W.writeStatus,onClose:re=>$(W)},null,8,["onChange","data","write","onClose"]),de===0?(i(),k(Z,{key:0,class:"default-tag ml-4"},{default:t(()=>[v(c(r.$t("workflow.setting.latestRelease")),1)]),_:1})):R("",!0)],2),o(f,{type:"info",class:"color-secondary flex align-center mt-8"},{default:t(()=>[o(le,{size:20,class:"avatar-grey mr-4"},{default:t(()=>[o(se,null,{default:t(()=>[o(ee)]),_:1})]),_:1}),v(" "+c(W.publishUserName),1)]),_:2},1024)]),ie(w("div",{onClick:E[0]||(E[0]=Ce(()=>{},["stop"]))},[o(ke,{trigger:"click",teleported:!1},{dropdown:t(()=>[o(X,null,{default:t(()=>[U.value.workflow_edit(A(C))?(i(),k(j,{key:0,onClick:Ce(re=>l(W),["stop"])},{default:t(()=>[o(N,{iconName:"app-edit",class:"color-secondary"}),v(" "+c(r.$t("common.edit")),1)]),_:2},1032,["onClick"])):R("",!0),o(j,{onClick:re=>m(W)},{default:t(()=>[o(se,{class:"color-secondary"},{default:t(()=>[o(ce)]),_:1}),v(" "+c(r.$t("workflow.setting.restoreCurrentVersion")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[o(K,{text:""},{default:t(()=>[o(N,{iconName:"app-more"})]),_:1})]),_:2},1024)],512),[[to,x.value===W.id]])])]),empty:t(()=>[w("div",Ao,[o(f,{type:"info"},{default:t(()=>[v(c(r.$t("chat.noHistory")),1)]),_:1})])]),_:1},8,["data"])),[[he,J.value]])])]),_:1})])])}}}),Io=ao(Oo,[["__scopeId","data-v-4fe2d9a4"]]),Mo={style:{height:"calc(100% - 57px)"}},To=Oe({__name:"DebugDrawer",setup(Te,{expose:ue}){ve("upload",(f,N)=>ro.postUploadFile(f,y,"KNOWLEDGE",N));const V=u(0),C=He(),n=Ie(),{params:{id:y,folderId:U}}=n,H={dataSource:yo,knowledgeBase:ho,result:Do},J=G(()=>n.path.includes("shared")?"systemShare":n.path.includes("resource-management")?"systemManage":"workspace"),O=u(!1),x=u(),T=u(),D=u({}),m=u("dataSource"),l=u(!1),$=u(null),z=()=>{l.value=!1,$.value=null,m.value="dataSource"},Q=f=>{l.value=!0,$.value=f},L=G(()=>{var N,K;const f=(K=(N=$.value)==null?void 0:N.nodes)==null?void 0:K.find(j=>j.type===no.KnowledgeBase);return f?f.properties.userInputFieldList:[]}),r=()=>{T.value.validate().then(()=>{D.value[m.value]=T.value.get_data(),m.value="knowledgeBase"})},E=()=>{T.value.validate().then(()=>{m.value="dataSource"})},I=G(()=>U==="share"),Z=G(()=>Me.knowledge[J.value]),ee=()=>{Z.value.doc_create(y)?T.value.validate().then(()=>{D.value[m.value]=T.value.get_data(),ne({type:"knowledge",isShared:I.value,systemType:J.value}).workflowAction(y,D.value,O).then(f=>{x.value=f.data.id,m.value="result"})}):B(h("views.application.tip.noDocPermission"))},se=()=>{m.value="dataSource",V.value++,x.value=void 0;const f=$.value;$.value=null,D.value={},Ae(()=>{$.value=f})},le=()=>{const f=C.resolve({path:`/knowledge/${y}/${U}/2/document`}).href;window.open(f)};return ue({close:z,open:Q}),(f,N)=>{const K=d("el-button"),j=d("el-drawer"),ce=we("loading");return i(),k(j,{modelValue:l.value,"onUpdate:modelValue":N[1]||(N[1]=X=>l.value=X),title:f.$t("common.debug"),size:"800px",direction:"rtl","destroy-on-close":"","before-close":z,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[m.value=="result"?(i(),k(K,{key:0,onClick:se},{default:t(()=>[v(c(f.$t("views.document.buttons.continueImporting")),1)]),_:1})):R("",!0),L.value.length>0&&m.value=="knowledgeBase"?(i(),k(K,{key:1,loading:O.value,onClick:E},{default:t(()=>[v(c(f.$t("common.steps.prev")),1)]),_:1},8,["loading"])):R("",!0),L.value.length>0&&m.value=="dataSource"?(i(),k(K,{key:2,loading:O.value,onClick:r},{default:t(()=>[v(c(f.$t("common.steps.next")),1)]),_:1},8,["loading"])):R("",!0),(L.value.length>0?m.value=="knowledgeBase":m.value=="dataSource")?(i(),k(K,{key:3,onClick:ee,type:"primary",loading:O.value},{default:t(()=>[v(c(f.$t("views.document.buttons.import")),1)]),_:1},8,["loading"])):R("",!0),m.value=="result"?(i(),k(K,{key:4,type:"primary",onClick:le},{default:t(()=>[v(c(f.$t("views.knowledge.ResultSuccess.buttons.toDocument")),1)]),_:1})):R("",!0)]),default:t(()=>[ie((i(),ae("div",Mo,[(i(),k(so,{key:V.value,include:["DataSource","KnowledgeBase"]},[(i(),k(lo(H[m.value]),{ref_key:"ActionRef",ref:T,loading:O.value,"onUpdate:loading":N[0]||(N[0]=X=>O.value=X),workflow:$.value,knowledgeId:A(y),id:x.value},null,40,["loading","workflow","knowledgeId","id"]))],1024))])),[[ce,O.value]])]),_:1},8,["modelValue","title"])}}}),Lo={class:"knowledge-workflow"},Ko={class:"header border-b flex-between p-12-24 white-bg"},Wo={class:"flex align-center"},Fo=["title"],Go={key:0},Vo={key:0},Po={key:1},Uo={class:"ml-4"},xo={class:"workflow-main",ref:"workflowMainRef"},Bo={class:"flex-between"},Ho={class:"flex align-center"},zo={class:"mr-12 ml-24 flex"},jo=["src"],qo=["title"],Jo={class:"mr-16"},pt=Oe({__name:"index",setup(Te){ve("getResourceDetail",()=>l),ve("workflowMode",_e.Knowledge),ve("loopWorkflowMode",_e.KnowledgeLoop);const{theme:ue}=io(),V=He(),C=Ie(),{params:{id:n,folderId:y}}=C,U=G(()=>C.path.includes("shared")?"systemShare":C.path.includes("resource-management")?"systemManage":C.path.includes("share/")?"workspaceShare":"workspace"),H=G(()=>Me.knowledge[U.value]),J=G(()=>ue.isDefaultTheme()),O=u(),x=u();let T;const D=u(),m=u(!1),l=u(null),$=u(!1),z=u(!1),Q=u(!1),L=u(""),r=u(!1),E=u(!1),I=u(!1),Z=u({}),ee=u(null),se=u([]),le=G(()=>{var e;return(e=l.value)==null?void 0:e.isPublish});function f(){JSON.stringify(ee.value)!==JSON.stringify(oe())?xe(h("common.tip"),h("workflow.tip.saveMessage"),{confirmButtonText:h("workflow.setting.exitSave"),cancelButtonText:h("workflow.setting.exit"),distinguishCancelAndClose:!0}).then(()=>{ye(!0,!0)}).catch(e=>{e==="cancel"&&De()}):De()}const N=()=>{var e;(e=x.value)==null||e.open(n)};function K(){I.value||(E.value=!1,I.value=!1)}function j(e){e&&X(e),E.value=!1,I.value=!1}function ce(e){I.value=!0,Z.value=e,X(e),$e()}function X(e){var a;e.workFlow.nodes.map(_=>{_.properties.noRender=!0}),l.value.workFlow=e.workFlow,L.value=e==null?void 0:e.updateTime,(a=D.value)==null||a.clearGraphData(),Ae(()=>{var _;(_=D.value)==null||_.render(e.workFlow)})}function ke(){Le(),r.value&&Ee(),E.value=!1,I.value=!1}function ge(){E.value=!0}function he(e){e?Ee():$e(),localStorage.setItem("workflowAutoSave",e.toString())}function W(e){$.value=!1}function de(e){$.value=!1}function re(){$.value=!1}const ze=()=>{var e;(e=D.value)==null||e.validate().then(()=>{const a=oe(),_=new Be(a,_e.Knowledge);try{_.is_valid()}catch(s){B(s.toString());return}ne({type:"knowledge",isShared:pe.value,systemType:U.value}).putKnowledgeWorkflow(n,{workFlow:a}).then(()=>ne({type:"knowledge",isShared:pe.value,systemType:U.value}).publish(n,{},m)).then(s=>{l.value.isPublish=!0,Ne(h("views.application.tip.publishSuccess"))}).catch(s=>{var g,M,Y,fe;const S=s.node,p=s.errMessage;if(typeof p=="string")B(((g=s.node.properties)==null?void 0:g.nodeName)+` ${h("workflow.node").toLowerCase()} `+p.toLowerCase());else{const be=Object.keys(p);B(((M=S.properties)==null?void 0:M.nodeName)+` ${h("workflow.node").toLowerCase()} `+((fe=(Y=p[be[0]])==null?void 0:Y[0])==null?void 0:fe.message.toLowerCase()))}})}).catch(a=>{var S,p,g,M;const _=a.node,s=a.errMessage;if(typeof s=="string")B(((S=a.node.properties)==null?void 0:S.nodeName)+` ${h("workflow.node")}，`+s);else{const Y=Object.keys(s);B(((p=_.properties)==null?void 0:p.nodeName)+` ${h("workflow.node")}，`+((M=(g=s[Y[0]])==null?void 0:g[0])==null?void 0:M.message))}})},je=()=>{var e;(e=D.value)==null||e.validate().then(()=>{var s,S;const a=oe(),_=new Be(a,_e.Knowledge);try{_.is_valid(),l.value={...l.value,type:"WORK_FLOW",...(s=_.get_base_node())==null?void 0:s.properties.nodeData,workFlow:oe()},(S=O.value)==null||S.open(a)}catch(p){B(p.toString())}}).catch(a=>{var S,p,g,M;const _=a.node,s=a.errMessage;if(typeof s=="string")B(((S=a.node.properties)==null?void 0:S.nodeName)+` ${h("workflow.node")}，`+s);else{const Y=Object.keys(s);B(((p=_.properties)==null?void 0:p.nodeName)+` ${h("workflow.node")}，`+((M=(g=s[Y[0]])==null?void 0:g[0])==null?void 0:M.message))}})};function oe(){var e;return(e=D.value)==null?void 0:e.getGraphData()}const pe=G(()=>y==="share");function Le(){ne({type:"knowledge",isShared:pe.value,systemType:U.value}).getKnowledgeDetail(n).then(e=>{var a,_,s,S;l.value=e.data,l.value.sttModelId=e.data.sttModel,l.value.ttsModelId=e.data.ttsModel,l.value.ttsType=e.data.ttsType,L.value=(a=e.data)==null?void 0:a.updateTime,(!l.value.workFlow||!("nodes"in l.value.workFlow))&&(l.value.workFlow={nodes:[Eo]}),(s=(_=l.value.workFlow)==null?void 0:_.nodes)==null||s.filter(p=>p.id==="knowledge-base-node").map(p=>{se.value=p.properties.apiInputFieldList?p.properties.apiInputFieldList.map(g=>({name:g.variable,value:g.defaultValue})):p.properties.inputFieldList?p.properties.inputFieldList.filter(g=>g.assignment_method==="api_input").map(g=>({name:g.variable,value:g.defaultValue})):[]}),(S=D.value)==null||S.clearGraphData(),Ae(()=>{var p;(p=D.value)==null||p.render(l.value.workFlow),ee.value=oe()})})}function ye(e,a){const _={workFlow:oe()};m.value=a||!1,ne({type:"knowledge",isShared:pe.value,systemType:U.value}).putKnowledgeWorkflow(n,_).then(()=>{L.value=new Date,e&&(ee.value=oe(),Ne(h("common.saveSuccess")),a&&De())}).catch(()=>{m.value=!1})}const De=()=>C.path.includes("resource-management")?V.push({path:Je()}):C.path.includes("shared")?V.push({path:qe()}):V.push({path:Qe()}),qe=()=>P([F.ADMIN,b.SHARED_KNOWLEDGE_DOCUMENT_READ],"OR")?`/knowledge/${n}/shared/2/document`:P([F.ADMIN,b.SHARED_KNOWLEDGE_PROBLEM_READ],"OR")?`/knowledge/${n}/shared/2/problem`:P([F.ADMIN,b.SHARED_KNOWLEDGE_HIT_TEST_READ],"OR")?`/knowledge/${n}/shared/2/hit-test`:P([F.ADMIN,b.SHARED_KNOWLEDGE_CHAT_USER_READ],"OR")?`/knowledge/${n}/shared/2/chat-user`:P([F.ADMIN,b.SHARED_KNOWLEDGE_EDIT],"OR")?`/knowledge/${n}/shared/2/setting`:"/system/shared/knowledge",Je=()=>P([F.ADMIN,b.RESOURCE_KNOWLEDGE_DOCUMENT_READ],"OR")?`/knowledge/${n}/resource-management/2/document`:P([F.ADMIN,b.RESOURCE_KNOWLEDGE_PROBLEM_READ],"OR")?`/knowledge/${n}/resource-management/2/problem`:P([F.ADMIN,b.RESOURCE_KNOWLEDGE_HIT_TEST],"OR")?`/knowledge/${n}/resource-management/2/hit-test`:P([F.ADMIN,b.RESOURCE_KNOWLEDGE_CHAT_USER_READ],"OR")?`/knowledge/${n}/resource-management/2/chat-user`:P([F.ADMIN,b.RESOURCE_KNOWLEDGE_EDIT],"OR")?`/knowledge/${n}/resource-management/2/setting`:"/system/resource-management/knowledge",Qe=()=>{const e=a=>P([new vo([F.USER],[b.KNOWLEDGE.getKnowledgeWorkspaceResourcePermission(n)],[],"AND"),F.WORKSPACE_MANAGE.getWorkspaceRole,a.getWorkspacePermissionWorkspaceManageRole,a.getKnowledgeWorkspaceResourcePermission(n)],"OR");return e(b.KNOWLEDGE_DOCUMENT_READ)?`/knowledge/${n}/${y}/2/document`:e(b.KNOWLEDGE_PROBLEM_READ)?`/knowledge/${n}/${y}/2/problem`:e(b.KNOWLEDGE_HIT_TEST_READ)?`/knowledge/${n}/${y}/2/hit-test`:e(b.KNOWLEDGE_CHAT_USER_READ)?`/knowledge/${n}/${y}/2/chat-user`:e(b.KNOWLEDGE_EDIT)?`/knowledge/${n}/${y}/2/setting`:"/knowledge"},Xe=()=>{if(alert(le.value),le.value){const e=V.resolve({path:`/knowledge/import/workflow/${y}`,query:{id:n}}).href;window.open(e)}else xe(h("common.tip"),h("views.document.tip.toImportDocConfirm"),{cancelButtonText:h("common.close"),showConfirmButton:!1,type:"warning"}).then(()=>{}).catch(()=>{})},Ee=()=>{T=setInterval(()=>{ye()},6e4)},$e=()=>{T&&clearInterval(T)};return uo(()=>{Le();const e=localStorage.getItem("workflowAutoSave");r.value=e==="true",r.value&&Ee()}),co(()=>{var e;$e(),(e=D.value)==null||e.clearGraphData()}),(e,a)=>{var Fe,Ge,Ve;const _=d("el-text"),s=d("el-button"),S=d("el-divider"),p=d("Close"),g=d("el-icon"),M=d("el-dropdown-item"),Y=d("el-switch"),fe=d("el-dropdown-menu"),be=d("el-dropdown"),Ke=d("el-collapse-transition"),Ye=d("el-avatar"),We=we("click-outside"),Ze=we("loading");return ie((i(),ae("div",Lo,[w("div",Ko,[w("div",Wo,[o(po,{onClick:f}),w("h4",{class:"ellipsis",style:{"max-width":"300px"},title:(Fe=l.value)==null?void 0:Fe.name},c((Ge=l.value)==null?void 0:Ge.name),9,Fo),E.value&&I.value?(i(),ae("div",Go,[o(_,{type:"info",class:"ml-16 color-secondary"},{default:t(()=>[v(c(e.$t("workflow.info.previewVersion"))+" "+c(Z.value.name||A(Se)(Z.value.updateTime)),1)]),_:1})])):L.value?(i(),k(_,{key:1,type:"info",class:"ml-16 color-secondary"},{default:t(()=>[v(c(e.$t("workflow.info.saveTime"))+c(A(Se)(L.value)),1)]),_:1})):R("",!0)]),E.value&&I.value&&!A(C).path.includes("share/")?(i(),ae("div",Vo,[o(s,{type:"primary",class:"mr-8",onClick:a[0]||(a[0]=te=>j())},{default:t(()=>[v(c(e.$t("workflow.setting.restoreVersion")),1)]),_:1}),o(S,{direction:"vertical"}),o(s,{text:"",onClick:ke},{default:t(()=>[o(g,null,{default:t(()=>[o(p)]),_:1})]),_:1})])):A(C).path.includes("share/")?R("",!0):(i(),ae("div",Po,[o(s,{onClick:a[1]||(a[1]=te=>$.value=!$.value)},{default:t(()=>[o(q,{iconName:"app-add-outlined",class:"mr-4"}),v(" "+c(e.$t("workflow.setting.addComponent")),1)]),_:1}),H.value.debug(A(n))?(i(),k(s,{key:0,onClick:je,disabled:z.value},{default:t(()=>[o(q,{iconName:"app-debug-outlined",class:"mr-4"}),v(" "+c(e.$t("common.debug")),1)]),_:1},8,["disabled"])):R("",!0),H.value.workflow_edit(A(n))?(i(),k(s,{key:1,onClick:a[2]||(a[2]=te=>ye(!0))},{default:t(()=>[o(q,{iconName:"app-save-outlined",class:"mr-4"}),v(" "+c(e.$t("common.save")),1)]),_:1})):R("",!0),H.value.workflow_edit(A(n))?(i(),k(s,{key:2,type:"primary",onClick:ze},{default:t(()=>[v(c(e.$t("common.publish")),1)]),_:1})):R("",!0),o(be,{trigger:"click"},{dropdown:t(()=>[o(fe,null,{default:t(()=>[o(M,{onClick:Xe},{default:t(()=>[o(q,{iconName:"app-to-import-doc",class:"color-secondary"}),v(" "+c(e.$t("workflow.operation.toImportDoc")),1)]),_:1}),o(M,{onClick:N,divided:""},{default:t(()=>[o(q,{iconName:"app-execution-record",class:"color-secondary"}),v(" "+c(e.$t("workflow.ExecutionRecord")),1)]),_:1}),o(M,{onClick:ge},{default:t(()=>[o(q,{iconName:"app-history-outlined",class:"color-secondary"}),v(" "+c(e.$t("workflow.setting.releaseHistory")),1)]),_:1}),H.value.workflow_edit(A(n))?(i(),k(M,{key:0},{default:t(()=>[o(q,{iconName:"app-save-outlined",class:"color-secondary"}),v(" "+c(e.$t("workflow.setting.autoSave"))+" ",1),w("div",Uo,[o(Y,{size:"small",modelValue:r.value,"onUpdate:modelValue":a[4]||(a[4]=te=>r.value=te),onChange:he},null,8,["modelValue"])])]),_:1})):R("",!0)]),_:1})]),default:t(()=>[o(s,{text:"",onClick:a[3]||(a[3]=Ce(()=>{},["stop"])),class:"ml-8 mt-4"},{default:t(()=>[o(q,{iconName:"app-more",class:"rotate-90"})]),_:1})]),_:1})]))]),o(Ke,null,{default:t(()=>[ie(o(wo,{show:$.value,id:A(n),onClickNodes:W,onOnmousedown:de,workflowRef:D.value},null,8,["show","id","workflowRef"]),[[We,re]])]),_:1}),w("div",xo,[l.value?(i(),k(ko,{key:0,ref_key:"workflowRef",ref:D,data:(Ve=l.value)==null?void 0:Ve.workFlow},null,8,["data"])):R("",!0)],512),o(Ke,null,{default:t(()=>{var te,Pe,Ue;return[z.value?(i(),ae("div",{key:0,class:Re(["workflow-debug-container",Q.value?"enlarge":""])},[w("div",{class:Re(["workflow-debug-header",J.value?"":"custom-header"])},[w("div",Bo,[w("div",Ho,[w("div",zo,[A(fo)((te=l.value)==null?void 0:te.icon)?(i(),k(Ye,{key:0,shape:"square",size:32,style:{background:"none"}},{default:t(()=>{var me;return[w("img",{src:A(mo)((me=l.value)==null?void 0:me.icon),alt:""},null,8,jo)]}),_:1})):(i(),k(_o,{key:1,height:"32px"}))]),w("h4",{class:"ellipsis",style:{"max-width":"270px"},title:(Pe=l.value)==null?void 0:Pe.name},c(((Ue=l.value)==null?void 0:Ue.name)||e.$t("views.knowledge.form.appName.label")),9,qo)]),w("div",Jo,[o(s,{link:"",onClick:a[5]||(a[5]=me=>Q.value=!Q.value)},{default:t(()=>[o(q,{iconName:Q.value?"app-minify":"app-magnify",class:"color-secondary",style:{"font-size":"20px"}},null,8,["iconName"])]),_:1}),o(s,{link:"",onClick:a[6]||(a[6]=me=>z.value=!1)},{default:t(()=>[o(g,{size:20,class:"color-secondary"},{default:t(()=>[o(p)]),_:1})]),_:1})])])],2)],2)):R("",!0)]}),_:1}),o(To,{ref_key:"DebugRef",ref:O},null,512),o(go,{ref_key:"ListActionRef",ref:x},null,512),E.value?ie((i(),k(Io,{key:0,onClick:ce,onRefreshVersion:j},null,512)),[[We,K]]):R("",!0)])),[[Ze,m.value]])}}});export{pt as default};
