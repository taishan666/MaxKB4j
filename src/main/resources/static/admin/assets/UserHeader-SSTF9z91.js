import{ay as w,az as W,aP as y,aQ as g,aD as _,aT as v,aF as r,b8 as i,bC as L,aI as u,aH as l,aJ as x,cn as E,dv as D,b6 as f,b3 as N,aY as R,aZ as $,b4 as B,aE as k,aA as M,aU as A,b7 as C}from"./admin-Cb1J-0y0.js";import{T as P,A as F}from"./index.vue_vue_type_script_setup_true_lang-DJpnZqLD.js";const S={class:"title flex align-center"},U=w({__name:"MenuItem",props:{menu:{}},setup(h){const c=W(),o=y(),e=h,t=g(()=>{const{name:s,path:n,meta:a}=o;return s==e.menu.name&&n==e.menu.path||(a==null?void 0:a.activeMenu)==e.menu.path});return(s,n)=>{var p,m,d,I,b;const a=_("AppIcon");return r(),v("div",{class:L(["menu-item-container h-full border-r-6",t.value?"active":""]),onClick:n[0]||(n[0]=Z=>i(c).push({name:s.menu.name}))},[u("div",S,[l(a,{iconName:t.value?((p=s.menu.meta)==null?void 0:p.iconActive)||((m=s.menu.meta)==null?void 0:m.icon):(I=(d=s.menu)==null?void 0:d.meta)==null?void 0:I.icon,style:{"font-size":"16px"},class:"mr-4"},null,8,["iconName"]),u("span",null,x(s.$t((b=s.menu.meta)==null?void 0:b.title)),1)])],2)}}}),z=E(U,[["__scopeId","data-v-60c92f8c"]]),H={class:"top-menu-container flex align-center h-full"},O=w({__name:"index",setup(h){const c=g(()=>{const o=D("/","home").filter(e=>{var t;return((t=e.meta)==null?void 0:t.menu)&&(e.meta.permission?f(e.meta.permission,"OR"):!0)});return o.sort((e,t)=>(e.meta&&e.meta.order?e.meta.order:1)-(t.meta&&t.meta.order?t.meta.order:1)),o});return(o,e)=>{const t=N("hasPermission");return r(),v("div",H,[(r(!0),v(R,null,$(c.value,(s,n)=>{var a;return B((r(),k(z,{menu:s,key:n},null,8,["menu"])),[[t,(a=s.meta)==null?void 0:a.permission]])}),128))])}}}),T={class:"app-top-bar-container border-b flex-center"},V={class:"logo mt-4"},J={class:"flex-between w-full"},Q={class:"ml-24 flex align-center w-120"},Y=w({__name:"UserHeader",setup(h){const c=W(),o=y(),{user:e}=M(),t=g(()=>e.workspaceList.find(n=>n.id==e.workspaceId));function s(n){const{meta:{activeMenu:a}}=o;n.id!==e.workspaceId&&(e.setWorkspaceId(n.id||"default"),a.includes("application")&&o.path!="/application"?c.push("/application"):a.includes("knowledge")&&o.path!="/knowledge"?c.push("/knowledge"):window.location.reload())}return(n,a)=>{const p=_("LogoFull"),m=_("el-divider"),d=_("WorkspaceDropdown");return r(),v("div",T,[u("div",V,[l(p)]),u("div",J,[u("div",Q,[i(f)(i(C).IS_EE,"OR")?(r(),k(m,{key:0,class:"mr-8",direction:"vertical"})):A("",!0),i(f)(i(C).IS_EE,"OR")?(r(),k(d,{key:1,data:i(e).workspaceList,currentWorkspace:t.value,onChangeWorkspace:s},null,8,["data","currentWorkspace"])):A("",!0)]),l(O),l(P,{class:"mr-12"})]),l(F)])}}}),G=E(Y,[["__scopeId","data-v-9b56546a"]]);export{G as U};
