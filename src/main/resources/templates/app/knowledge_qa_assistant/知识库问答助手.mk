{"application":{"name":"知识库问答助手","desc":"基于用户问题，检索知识库相关内容作为AI模型的参考内容","prologue":"您好，我是 XXX 小助手，您可以向我提出 XXX 使用问题。\n- XXX 主要功能有什么？\n- XXX 如何收费？\n- 需要转人工服务","dialogueNumber":1,"knowledgeSetting":{"topN":3,"maxParagraphCharNumber":5000,"searchMode":"embedding","similarity":0.6,"noReferencesSetting":{"status":"ai_questioning","value":"{question}"}},"modelSetting":{"system":"系统提示词，可以引用系统中的变量： 是命中知识库中的分段； 是用户提出的问题。","prompt":"已知信息：{data}\n用户问题：{question}\n回答要求：\n- 请使用中文回答用户问题","noReferencesPrompt":"{question}"},"problemOptimization":false,"userId":"ee95e0e38acaad23bd73d9bea414a97d","icon":"./favicon.ico","type":"WORK_FLOW","workFlow":{"edges":[{"id":"73f8992c-65ef-409a-a151-378d0927f2aa","type":"app-edge","endPoint":{"x":550,"y":960},"pointsList":[{"x":280,"y":1010},{"x":390,"y":1010},{"x":440,"y":960},{"x":550,"y":960}],"properties":{},"startPoint":{"x":280,"y":1010},"sourceNodeId":"start-node","targetNodeId":"fd0324fc-f5e4-4fa6-a2d9-cb251b467605","sourceAnchorId":"start-node_right","targetAnchorId":"fd0324fc-f5e4-4fa6-a2d9-cb251b467605_left"},{"id":"6a8d23d9-5179-424e-80c2-f08d37cdb8d4","type":"app-edge","endPoint":{"x":1010,"y":930},"pointsList":[{"x":870,"y":960},{"x":980,"y":960},{"x":900,"y":930},{"x":1010,"y":930}],"properties":{},"startPoint":{"x":870,"y":960},"sourceNodeId":"fd0324fc-f5e4-4fa6-a2d9-cb251b467605","targetNodeId":"420a6e4f-44ff-4847-bb81-0923630846b5","sourceAnchorId":"fd0324fc-f5e4-4fa6-a2d9-cb251b467605_right","targetAnchorId":"420a6e4f-44ff-4847-bb81-0923630846b5_left"},{"id":"56006748-d9fe-491b-a14b-04fd568cac08","type":"app-edge","endPoint":{"x":1730,"y":110},"pointsList":[{"x":1590,"y":795.7810000000001},{"x":1700,"y":795.7810000000001},{"x":1620,"y":110},{"x":1730,"y":110}],"properties":{},"startPoint":{"x":1590,"y":795.7810000000001},"sourceNodeId":"420a6e4f-44ff-4847-bb81-0923630846b5","targetNodeId":"36a440a9-5b00-4d82-b13a-8e7819112918","sourceAnchorId":"420a6e4f-44ff-4847-bb81-0923630846b5_7887_right","targetAnchorId":"36a440a9-5b00-4d82-b13a-8e7819112918_left"},{"id":"9bc8721b-07aa-4730-9347-910ed64e26b9","type":"app-edge","endPoint":{"x":1730,"y":950},"pointsList":[{"x":1590,"y":923.666},{"x":1700,"y":923.666},{"x":1620,"y":950},{"x":1730,"y":950}],"properties":{},"startPoint":{"x":1590,"y":923.666},"sourceNodeId":"420a6e4f-44ff-4847-bb81-0923630846b5","targetNodeId":"f7c3b4a2-cb80-4e47-b050-7fef0315daaf","sourceAnchorId":"420a6e4f-44ff-4847-bb81-0923630846b5_6847_right","targetAnchorId":"f7c3b4a2-cb80-4e47-b050-7fef0315daaf_left"},{"id":"c276a5b6-ec29-4ab9-b911-a0a929ff193f","type":"app-edge","endPoint":{"x":1730,"y":1790},"pointsList":[{"x":1590,"y":1013.27515},{"x":1700,"y":1013.27515},{"x":1620,"y":1790},{"x":1730,"y":1790}],"properties":{},"startPoint":{"x":1590,"y":1013.27515},"sourceNodeId":"420a6e4f-44ff-4847-bb81-0923630846b5","targetNodeId":"04dd6c1e-95f9-4757-bb3e-134d503fce54","sourceAnchorId":"420a6e4f-44ff-4847-bb81-0923630846b5_2794_right","targetAnchorId":"04dd6c1e-95f9-4757-bb3e-134d503fce54_left"}],"nodes":[{"x":120,"y":280,"id":"base-node","type":"base-node","properties":{"config":{},"height":769.656,"nodeData":{"desc":"基于用户问题，检索知识库相关内容作为AI模型的参考内容","name":"知识库问答助手","ttsType":"BROWSER","prologue":"您好，我是 XXX 小助手，您可以向我提出 XXX 使用问题。\n- XXX 主要功能有什么？\n- XXX 如何收费？\n- 需要转人工服务"},"nodeName":"基本信息","showNode":true,"inputFieldList":[],"userInputConfig":{"title":"用户输入"},"api_input_field_list":[],"chatInputFieldList":[],"user_input_field_list":[]}},{"x":120,"y":1010,"id":"start-node","type":"start-node","properties":{"config":{"fields":[{"label":"用户问题","value":"question"}],"chatFields":[],"globalFields":[{"label":"当前时间","value":"time"},{"label":"历史聊天记录","value":"historyContext"},{"label":"对话 ID","value":"chatId"},{"label":"对话用户 ID","value":"chatUserId"},{"label":"对话用户类型","value":"chatUserType"},{"label":"对话用户","value":"chatUser"}]},"fields":[{"label":"用户问题","value":"question"}],"height":517.3330000000001,"nodeName":"开始","showNode":true,"globalFields":[{"label":"当前时间","value":"time"}]}},{"x":710,"y":960,"id":"fd0324fc-f5e4-4fa6-a2d9-cb251b467605","type":"search-knowledge-node","properties":{"config":{"fields":[{"label":"检索结果的分段列表","value":"paragraphList"},{"label":"满足直接回答的分段列表","value":"isHitHandlingMethodList"},{"label":"检索结果","value":"data"},{"label":"满足直接回答的分段内容","value":"directlyReturn"}]},"height":863.552,"nodeData":{"knowledgeIds":["0242a6713f4dc52eeee29d0fec5f1233","f55b1cdb58e7cd67d96898de465e4c11"],"knowledgeList":[{"id":"0242a6713f4dc52eeee29d0fec5f1233","desc":"知识库","meta":{},"name":"知识库","type":0,"userId":"ee95e0e38acaad23bd73d9bea414a97d","folderId":"default","createTime":"2025-11-04 13:28:21","updateTime":"2026-01-16 09:32:40","fileSizeLimit":100,"fileCountLimit":50,"embeddingModelId":"366166402e6c5d494492e49c6f304e37"},{"id":"f55b1cdb58e7cd67d96898de465e4c11","desc":"政策法规","meta":{},"name":"政策法规","type":0,"userId":"ee95e0e38acaad23bd73d9bea414a97d","folderId":"default","workFlow":{},"isPublish":false,"createTime":"2026-01-12 14:49:54","updateTime":"2026-01-18 17:36:25","fileSizeLimit":100,"fileCountLimit":50,"embeddingModelId":"366166402e6c5d494492e49c6f304e37"}],"showKnowledge":false,"knowledgeSetting":{"topN":3,"searchMode":"embedding","similarity":0.6,"maxParagraphCharNumber":5000},"allKnowledgeIdList":[],"questionReferenceAddress":["start-node","question"]},"nodeName":"知识库检索","showNode":true,"condition":"AND"}},{"x":1300,"y":930,"id":"420a6e4f-44ff-4847-bb81-0923630846b5","type":"condition-node","properties":{"width":600,"config":{"fields":[{"label":"分支名称","value":"branchName"}]},"height":538.323,"nodeData":{"branch":[{"id":"7887","type":"IF","condition":"and","conditions":[{"field":["fd0324fc-f5e4-4fa6-a2d9-cb251b467605","isHitHandlingMethodList"],"value":1,"compare":"is_not_null"}]},{"id":"6847","type":"ELSE IF 1","condition":"and","conditions":[{"field":["fd0324fc-f5e4-4fa6-a2d9-cb251b467605","paragraphList"],"value":1,"compare":"is_not_null"}]},{"id":"2794","type":"ELSE","condition":"and","conditions":[]}]},"nodeName":"判断器","showNode":true,"condition":"AND","branch_condition_list":[{"id":"7887","index":0,"height":119.885},{"id":"6847","index":1,"height":119.885},{"id":"2794","index":2,"height":43.3333}]}},{"x":1890,"y":110,"id":"36a440a9-5b00-4d82-b13a-8e7819112918","type":"reply-node","properties":{"config":{"fields":[{"label":"内容","value":"answer"}]},"height":362.667,"nodeData":{"fields":["fd0324fc-f5e4-4fa6-a2d9-cb251b467605","directlyReturn"],"content":"","isResult":true,"replyType":"referencing"},"nodeName":"指定回复","showNode":true,"condition":"AND"}},{"x":1890,"y":950,"id":"f7c3b4a2-cb80-4e47-b050-7fef0315daaf","type":"ai-chat-node","properties":{"config":{"fields":[{"label":"AI 回答内容","value":"answer"},{"label":"思考过程","value":"reasoningContent"}]},"height":1034.438,"nodeData":{"prompt":"已知信息：\n{{知识库检索.data}}\n问题：\n{{开始.question}}","system":"","modelId":"8912ae99bce3810fad926a44f4a0a572","isResult":true,"dialogueType":"WORK_FLOW","modelSetting":{"reasoning_content_end":"</think>","reasoningContentEnable":false,"reasoning_content_start":"<think>"},"dialogueNumber":1,"toolOutputEnable":true,"modelParamsSetting":{"maxTokens":800,"temperature":0.7}},"nodeName":"AI 对话","showNode":true,"condition":"AND"}},{"x":1890,"y":1790,"id":"04dd6c1e-95f9-4757-bb3e-134d503fce54","type":"reply-node","properties":{"config":{"fields":[{"label":"内容","value":"answer"}]},"height":480.667,"nodeData":{"fields":[],"content":"抱歉，没有在知识库查询到相关内容，请提供更详细的信息。","isResult":true,"replyType":"content"},"nodeName":"指定回复1","showNode":true,"condition":"AND"}}]},"modelParamsSetting":{},"sttModelEnable":false,"sttAutoSend":false,"ttsModelEnable":false,"ttsAutoplay":false,"ttsType":"BROWSER","isPublish":false,"problemOptimizationPrompt":"()里面是用户问题,根据上下文回答揣测用户问题({question}) 要求: 输出一个补全问题,并且放在<data></data>标签中","ttsModelParamsSetting":{},"cleanTime":365,"fileUploadEnable":false,"fileUploadSetting":{},"folderId":"default","toolIds":[],"applicationIds":[],"knowledgeIds":[],"toolOutputEnable":true,"id":"422db9f0118b48527f14d74f22c31b1b","createTime":1768819003347,"updateTime":1768819357651},"toolList":[],"version":"v2"}