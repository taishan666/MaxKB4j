{"name":"博查搜索","desc":"博查搜索","code":"@Grab('org.apache.httpcomponents:httpclient:4.5.14')\n@Grab('org.apache.httpcomponents:httpcore:4.4.16')\n@Grab('com.fasterxml.jackson.core:jackson-databind:2.15.3')\n\nimport org.apache.http.client.methods.HttpPost\nimport org.apache.http.entity.StringEntity\nimport org.apache.http.impl.client.HttpClients\nimport org.apache.http.util.EntityUtils\nimport com.fasterxml.jackson.databind.ObjectMapper\n\ndef url = \"https://api.bochaai.com/v1/web-search\"\n\ndef httpClient = HttpClients.createDefault()\ndef httpPost = new HttpPost(url)\n\n// 设置请求头\nhttpPost.setHeader(\"Authorization\", \"Bearer ${apiKey}\")\nhttpPost.setHeader(\"Content-Type\", \"application/json\")\n\n// 构建请求体\ndef objectMapper = new ObjectMapper()\ndef requestBody = [\n    query: query,\n    summary: true,\n    count: 8\n]\ndef jsonBody = objectMapper.writeValueAsString(requestBody)\nhttpPost.setEntity(new StringEntity(jsonBody, \"UTF-8\"))\n\n// 发送请求\ndef response = httpClient.execute(httpPost)\ndef statusCode = response.getStatusLine().getStatusCode()\ndef responseBody = EntityUtils.toString(response.getEntity(), \"UTF-8\")\n\nif (statusCode == 200) {\n    return objectMapper.readValue(responseBody, Map.class)\n} else {\n    throw new RuntimeException(\"API请求失败: ${statusCode}, 错误信息: ${responseBody}\")\n}","inputFieldList":[{"name":"query","type":"string","source":"reference","isRequired":true}],"initFieldList":[{"attrs":{"maxlength":200,"minlength":1,"show-word-limit":true},"field":"apiKey","label":"apiKey","required":true,"input_type":"TextInput","props_info":{"rules":[{"message":"apiKey 为必填属性","required":true},{"max":200,"min":1,"message":"apiKey长度在 1 到 200 个字符","trigger":"blur"}]},"default_value":"xxxxxx","show_default_value":true}],"initParams":{},"userId":"ee95e0e38acaad23bd73d9bea414a97d","isActive":true,"toolType":"CUSTOM","label":"web_search","scope":"WORKSPACE","icon":"./tool/bochaai/icon.png","folderId":"default","id":"64069ad0e9a31f47f4f231779e65008d","version":"1.0.0","createTime":1762330009000,"updateTime":1764483515867}